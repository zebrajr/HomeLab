!function(e,t,i,n,s){function o(t,i){function n(e){return o(n.resolve(e))}if(!l[t]){if(!e[t]){var s="function"==typeof r.parcelRequire7d67&&r.parcelRequire7d67;if(!i&&s)return s(t,!0);if(a)return a(t,!0);if(d&&"string"==typeof t)return d(t);var c=Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}n.resolve=i=>e[t][1][i]||i,n.cache={};var h=l[t]=new o.Module(t);e[t][0].call(h.exports,n,h,h.exports,this)}return l[t].exports}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a="function"==typeof r.parcelRequire7d67&&r.parcelRequire7d67,l=a.cache||{},d="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);o.isParcelRequire=!0,o.Module=function(e){this.id=e,this.bundle=o,this.exports={}},o.modules=e,o.cache=l,o.parent=a,o.register=(t,i)=>{e[t]=[(e,t)=>{t.exports=i},{}]},Object.defineProperty(o,"root",{get(){return r.parcelRequire7d67}}),r.parcelRequire7d67=o;for(var c=0;t.length>c;c++)o(t[c]);var h=o("lUIf1");"object"==typeof exports&&"undefined"!=typeof module?module.exports=h:"function"==typeof define&&define.amd&&define((()=>h))}({lUIf1:[(e,t,i)=>{function n(){j||(W=atom.commands.add("atom-workspace",{"minimap:toggle"(){a()},async"minimap:generate-coffee-plugin"(){await l("coffee")},async"minimap:generate-javascript-plugin"(){await l("javascript")},async"minimap:generate-babel-plugin"(){await l("babel")}}),F=new Map,B=new I.StyleReader,N=new M.CompositeDisposable,j=!0,atom.config.get("minimap.autoToggle")&&a())}function s(e){if(e instanceof L.default){let t=e.getMinimapElement();return t||(t=new k.default,t.setModel(e)),t}}function o(){j&&(R.deactivateAllPlugins(),F&&(F.forEach((e=>{e.destroy()})),F.clear()),N.dispose(),W.dispose(),B.invalidateDOMStylesCache(),_=!1,j=!1)}function r(){return P||atom.packages.getLoadedPackage("minimap").metadata.configSchema}function a(){if(j){if(_){_=!1,F&&(F.forEach((e=>{e.destroy()})),F.clear()),N.dispose();const e=atom.isMaximized(),{width:t,height:i}=atom.getSize();atom.setSize(t,i),e&&atom.maximize()}else _=!0,(()=>{const e=H.debounce(E,300);N.add(atom.workspace.observeTextEditors((e=>{const t=y(e),i=s(t);q.emit("did-create-minimap",t),i.attach(e.getElement())})),atom.themes.onDidChangeActiveThemes(e),atom.styles.onDidUpdateStyleElement(e),atom.styles.onDidAddStyleElement(e),atom.styles.onDidRemoveStyleElement(e),O.treeSitterWarning())})();B.invalidateDOMStylesCache()}}async function l(t){const{default:i}=await e("./minimap-plugin-generator-element"),n=new i;n.template=t,n.attach()}function d(e){return q.on("did-activate",e)}function c(e){return q.on("did-deactivate",e)}function h(e){return q.on("did-create-minimap",e)}function u(e){return q.on("did-add-plugin",e)}function p(e){return q.on("did-remove-plugin",e)}function m(e){return q.on("did-activate-plugin",e)}function g(e){return q.on("did-deactivate-plugin",e)}function f(e){return q.on("did-change-plugin-order",e)}function v(){return L.default}function b(e){if(e)return y(e.getModel())}function y(e){if(!e)return;if(!F)return;let t=F.get(e);if(void 0===t||t.destroyed){t=new L.default({textEditor:e}),F.set(e,t);const i=e.onDidDestroy((()=>{F&&F.delete(e),t&&t.destroy(),i.dispose()}));N.add(i)}return t}function S(e){if(e)return new L.default({textEditor:e,standAlone:!0})}function w(){return y(atom.workspace.getActiveTextEditor())}function x(e){if(e)return F&&F.forEach((t=>{e(t)})),h((t=>{e(t)}))}function E(){B.invalidateDOMStylesCache(),F.forEach((e=>{atom.views.getView(e).requestForcedUpdate()}))}function C(){return z}var D=e("@parcel/transformer-js/src/esmodule-helpers.js");D.defineInteropFlag(i),D.export(i,"config",(()=>P)),D.export(i,"Minimap",(()=>L.default)),D.export(i,"MinimapElement",(()=>k.default)),D.export(i,"editorsMinimaps",(()=>F)),D.export(i,"emitter",(()=>q)),D.export(i,"styleReader",(()=>B)),D.export(i,"activate",(()=>n)),D.export(i,"minimapViewProvider",(()=>s)),D.export(i,"deactivate",(()=>o)),D.export(i,"getConfigSchema",(()=>r)),D.export(i,"toggle",(()=>a)),D.export(i,"onDidActivate",(()=>d)),D.export(i,"onDidDeactivate",(()=>c)),D.export(i,"onDidCreateMinimap",(()=>h)),D.export(i,"onDidAddPlugin",(()=>u)),D.export(i,"onDidRemovePlugin",(()=>p)),D.export(i,"onDidActivatePlugin",(()=>m)),D.export(i,"onDidDeactivatePlugin",(()=>g)),D.export(i,"onDidChangePluginOrder",(()=>f)),D.export(i,"minimapClass",(()=>v)),D.export(i,"minimapForEditorElement",(()=>b)),D.export(i,"minimapForEditor",(()=>y)),D.export(i,"standAloneMinimapForEditor",(()=>S)),D.export(i,"getActiveMinimap",(()=>w)),D.export(i,"observeMinimaps",(()=>x)),D.export(i,"provideMinimapServiceV1",(()=>C));var M=e("atom"),T=e("./minimap-element"),k=D.interopDefault(T),A=e("./minimap"),L=D.interopDefault(A),P=e("./config.json"),R=e("./plugin-management"),O=e("./performance-monitor"),I=e("atom-ide-base/commons-ui/dom-style-reader"),H=e("./deps/underscore-plus");D.exportAll(R,i);let j=!1,_=!1,F=null,N=null,W=null;const q=new M.Emitter;let B=null;const z={minimapViewProvider:s,getConfigSchema:r,onDidActivate:d,onDidDeactivate:c,onDidCreateMinimap:h,onDidAddPlugin:u,onDidRemovePlugin:p,onDidActivatePlugin:m,onDidDeactivatePlugin:g,onDidChangePluginOrder:f,minimapClass:v,minimapForEditorElement:b,minimapForEditor:y,standAloneMinimapForEditor:S,getActiveMinimap:w,observeMinimaps:x,registerPlugin:R.registerPlugin,unregisterPlugin:R.unregisterPlugin,togglePluginActivation:R.togglePluginActivation,deactivateAllPlugins:R.deactivateAllPlugins,activatePlugin:R.activatePlugin,deactivatePlugin:R.deactivatePlugin,getPluginsOrder:R.getPluginsOrder}},{"./minimap-element":"eyU6v","./minimap":"hTPeT","./config.json":"7B8RM","./plugin-management":"fyvhj","./performance-monitor":"lWj66","atom-ide-base/commons-ui/dom-style-reader":"GRpO3","./deps/underscore-plus":"fHACO","./minimap-plugin-generator-element":"8cz66","@parcel/transformer-js/src/esmodule-helpers.js":"f4OPK"}],eyU6v:[function(e,t,i){function n(e){return{x:e.pageX,y:e.pageY,isLeftMouse:0===e.button,isMiddleMouse:1===e.button}}function s(e){const t=e.changedTouches[0];return{x:t.pageX,y:t.pageY,isLeftMouse:!0,isMiddleMouse:!1}}function o(e,t){if(!e)return;let i="";for(const e in t)i+=`${e}: ${t[e]}; `;e.style.cssText=i}function r(e=0,t=0,i=!1){return i?`translate3d(${e}px, ${t}px, 0)`:`translate(${e}px, ${t}px)`}function a(e=0,t=e,i=!1){return i?`scale3d(${e}, ${t}, 1)`:`scale(${e}, ${t})`}function l({from:e,to:t,duration:i,step:n}){const s=d();let o;const r=()=>{const a=d()-s;o=0===i?1:a/i,o>1&&(o=1);const l=(e=>.5-Math.cos(e*Math.PI)/2)(o);n(e+(t-e)*l,l),1>o&&requestAnimationFrame(r)};r()}function d(){return new Date}var c=e("@parcel/transformer-js/src/esmodule-helpers.js");c.defineInteropFlag(i);var h=e("atom"),u=e("atom-utils-plus"),p=e("element-resize-detector"),m=c.interopDefault(p),g=e("./decoration-management"),f=c.interopDefault(g),v=e("./main"),b=e("./mixins/canvas-drawer"),y=c.interopDefault(b),S=e("./decorators/include"),w=c.interopDefault(S),x=e("./decorators/element"),E=c.interopDefault(x),C=e("./minimap-quick-settings-element"),D=c.interopDefault(C);const M=m.default({strategy:"scroll"}),T=class{static initClass(){return w.default(this,y.default,u.EventsDelegation,u.AncestorsMethods),E.default(this,"atom-text-editor-minimap")}createdCallback(){this.minimap=void 0,this.width=void 0,this.height=void 0,this.subscriptions=new h.CompositeDisposable,this.visibleAreaSubscription=void 0,this.quickSettingsSubscription=void 0,this.dragSubscription=void 0,this.openQuickSettingSubscription=void 0,this.minimapScrollIndicator=void 0,this.displayMinimapOnLeft=void 0,this.displayPluginsControls=void 0,this.textOpacity=void 0,this.displayCodeHighlights=void 0,this.adjustToSoftWrap=void 0,this.useHardwareAcceleration=void 0,this.absoluteMode=void 0,this.visibleArea=void 0,this.controls=void 0,this.scrollIndicator=void 0,this.openQuickSettings=void 0,this.quickSettingsElement=void 0,this.DecorationManagement=new f.default,this.attached=void 0,this.attachedToTextEditor=void 0,this.standAlone=void 0,this.wasVisible=void 0,this.offscreenFirstRow=void 0,this.offscreenLastRow=void 0,this.frameRequested=void 0,this.flexBasis=void 0,this.initializeContent(),this.subscriptions.add(atom.config.observe("minimap.displayMinimapOnLeft",(e=>{this.displayMinimapOnLeft=e,this.updateMinimapFlexPosition(),this.measureHeightAndWidth(!0,!0)})),atom.config.observe("minimap.minimapScrollIndicator",(e=>{this.minimapScrollIndicator=e,this.minimapScrollIndicator&&null==this.scrollIndicator&&!this.standAlone?this.initializeScrollIndicator():null!=this.scrollIndicator&&this.disposeScrollIndicator(),this.attached&&this.requestUpdate()})),atom.config.observe("minimap.displayPluginsControls",(e=>{this.displayPluginsControls=e,this.displayPluginsControls&&null==this.openQuickSettings&&!this.standAlone?this.initializeOpenQuickSettings():null!=this.openQuickSettings&&this.disposeOpenQuickSettings()})),atom.config.observe("minimap.textOpacity",(e=>{this.textOpacity=e,this.attached&&this.requestForcedUpdate()})),atom.config.observe("minimap.displayCodeHighlights",(e=>{this.displayCodeHighlights=e,this.attached&&this.requestForcedUpdate()})),atom.config.observe("minimap.smoothScrolling",(e=>{this.smoothScrolling=e,this.attached&&(this.smoothScrolling?this.requestUpdate():(this.backLayer.canvas.style.cssText="",this.tokensLayer.canvas.style.cssText="",this.frontLayer.canvas.style.cssText=""))})),atom.config.observe("minimap.adjustMinimapWidthToSoftWrap",(e=>{this.adjustToSoftWrap=e,this.attached&&this.measureHeightAndWidth()})),atom.config.observe("minimap.adjustMinimapWidthOnlyIfSmaller",(e=>{this.adjustOnlyIfSmaller=e,this.attached&&this.measureHeightAndWidth()})),atom.config.observe("minimap.useHardwareAcceleration",(e=>{this.useHardwareAcceleration=e,this.attached&&this.requestUpdate()})),atom.config.observe("minimap.absoluteMode",(e=>{this.absoluteMode=e,this.classList.toggle("absolute",this.absoluteMode)})),atom.config.observe("minimap.adjustAbsoluteModeHeight",(e=>{this.adjustAbsoluteModeHeight=e,this.classList.toggle("adjust-absolute-height",this.adjustAbsoluteModeHeight),this.attached&&this.measureHeightAndWidth()})),atom.config.observe("minimap.ignoreWhitespacesInTokens",(e=>{this.ignoreWhitespacesInTokens=e,this.attached&&this.requestForcedUpdate()})),atom.config.observe("editor.preferredLineLength",(()=>{this.attached&&this.measureHeightAndWidth()})),atom.config.observe("editor.softWrap",(()=>{this.attached&&this.requestUpdate()})),atom.config.observe("editor.showInvisibles",(()=>{this.attached&&this.requestUpdate()})),atom.config.observe("editor.invisibles",(()=>{this.attached&&this.requestUpdate()})),atom.config.observe("editor.softWrapAtPreferredLineLength",(()=>{this.attached&&this.requestUpdate()})))}attachedCallback(){if("function"==typeof atom.views.pollDocument)this.subscriptions.add(atom.views.pollDocument((()=>{this.pollDOM()})));else{this.intersectionObserver=new IntersectionObserver((e=>{const{intersectionRect:t}=e[e.length-1];(t.width>0||t.height>0)&&this.measureHeightAndWidth(!0,!0)})),this.intersectionObserver.observe(this),this.isVisible()&&this.measureHeightAndWidth(!0,!0);const e=()=>{this.measureHeightAndWidth(!1,!1)};M.listenTo(this,e),window.addEventListener("resize",e,{passive:!0}),this.subscriptions.add(new h.Disposable((()=>{M.removeListener(this,e)})),new h.Disposable((()=>{window.removeEventListener("resize",e)})))}this.measureHeightAndWidth(),this.updateMinimapFlexPosition(),this.attached=!0,this.attachedToTextEditor=this.queryParentSelector("atom-text-editor")===this.minimap.getTextEditorElement(),this.attachedToTextEditor&&this.minimap.getTextEditorElement().setAttribute("with-minimap",this.displayMinimapOnLeft?"left":"right"),this.subscriptions.add(this.subscribeToMediaQuery())}detachedCallback(){this.minimap.getTextEditorElement().removeAttribute("with-minimap"),this.attached=!1}isVisible(){return this.offsetWidth>0||this.offsetHeight>0}attach(e){if(this.attached)return;const t=e||this.minimap.getTextEditorElement(),i=t.querySelectorAll("atom-text-editor-minimap");i.length&&[].forEach.call(i,(e=>{e.destroy();try{t.removeChild(e)}catch(e){}})),t.appendChild(this)}detach(){this.attached&&null!=this.parentNode&&this.parentNode.removeChild(this)}updateMinimapFlexPosition(){this.classList.toggle("left",this.displayMinimapOnLeft),this.attachedToTextEditor&&this.minimap.getTextEditorElement().setAttribute("with-minimap",this.displayMinimapOnLeft?"left":"right")}destroy(){this.DecorationManagement.destroy(),this.quickSettingsElement&&this.quickSettingsElement.destroy(),this.subscriptions.dispose(),this.detach()}initializeContent(){this.initializeCanvas(),this.attachCanvases(this),this.createVisibleArea(),this.createControls(),this.subscriptions.add(this.subscribeTo(this,{mousewheel:e=>{!this.standAlone&&this.minimap.onMouseWheel&&this.minimap.onMouseWheel(e)}},{passive:!0}),this.subscribeTo(this.getFrontCanvas(),{mousedown:e=>{this.canvasPressed(n(e))},touchstart:e=>{this.canvasPressed(s(e))}},{passive:!0}))}createVisibleArea(){this.visibleArea||(this.visibleArea=document.createElement("div"),this.visibleArea.classList.add("minimap-visible-area"),this.appendChild(this.visibleArea),this.visibleAreaSubscription=this.subscribeTo(this.visibleArea,{mousedown:e=>{this.startDrag(n(e))},touchstart:e=>{this.startDrag(s(e))}},{passive:!0}),this.subscriptions.add(this.visibleAreaSubscription))}removeVisibleArea(){this.visibleArea&&(this.subscriptions.remove(this.visibleAreaSubscription),this.visibleAreaSubscription.dispose(),this.removeChild(this.visibleArea),delete this.visibleArea)}createControls(){this.controls||this.standAlone||(this.controls=document.createElement("div"),this.controls.classList.add("minimap-controls"),this.appendChild(this.controls))}removeControls(){this.controls&&(this.removeChild(this.controls),delete this.controls)}initializeScrollIndicator(){this.scrollIndicator||this.standAlone||(this.scrollIndicator=document.createElement("div"),this.scrollIndicator.classList.add("minimap-scroll-indicator"),this.controls.appendChild(this.scrollIndicator))}disposeScrollIndicator(){this.scrollIndicator&&(this.controls.removeChild(this.scrollIndicator),delete this.scrollIndicator)}initializeOpenQuickSettings(){this.openQuickSettings||this.standAlone||(this.openQuickSettings=document.createElement("div"),this.openQuickSettings.classList.add("open-minimap-quick-settings"),this.controls.appendChild(this.openQuickSettings),this.openQuickSettingSubscription=this.subscribeTo(this.openQuickSettings,{mousedown:e=>{if(e.preventDefault(),e.stopPropagation(),null!=this.quickSettingsElement)this.quickSettingsElement.destroy(),this.quickSettingsSubscription.dispose();else{this.quickSettingsElement=new D.default,this.quickSettingsElement.setModel(this),this.quickSettingsSubscription=this.quickSettingsElement.onDidDestroy((()=>{this.quickSettingsElement=null}));const{top:e,left:t,right:i}=this.getFrontCanvas().getBoundingClientRect();this.quickSettingsElement.style.top=e+"px",this.quickSettingsElement.attach(),this.quickSettingsElement.style.left=this.displayMinimapOnLeft?i+"px":t-this.quickSettingsElement.clientWidth+"px"}}}))}disposeOpenQuickSettings(){this.openQuickSettings&&(this.controls.removeChild(this.openQuickSettings),this.openQuickSettingSubscription.dispose(),delete this.openQuickSettings)}getDecorationManagement(){return this.DecorationManagement}getModel(){return this.minimap}setModel(e){return this.minimap=e,this.minimap.minimapElement=this,this.DecorationManagement.initializeDecorations(this.minimap),this.subscriptions.add(this.minimap.onDidChangeScrollTop((()=>{this.requestUpdate()})),this.minimap.onDidChangeScrollLeft((()=>{this.requestUpdate()})),this.minimap.onDidDestroy((()=>{this.destroy()})),this.minimap.onDidChangeConfig((()=>{if(this.attached)return this.requestForcedUpdate()})),this.minimap.onDidChangeStandAlone((()=>{this.setStandAlone(this.minimap.isStandAlone()),this.requestUpdate()})),this.minimap.onDidChange((e=>{this.pendingChanges.push(e),this.requestUpdate()})),this.DecorationManagement.onDidChangeDecorationRange((e=>{const{type:t}=e;"line"===t||"highlight-under"===t||"background-custom"===t?this.pendingBackDecorationChanges.push(e):this.pendingFrontDecorationChanges.push(e),this.requestUpdate()})),v.onDidChangePluginOrder((()=>{this.requestForcedUpdate()}))),this.setStandAlone(this.minimap.isStandAlone()),null!=this.width&&null!=this.height&&this.minimap.setScreenHeightAndWidth(this.height,this.width),this.minimap}setStandAlone(e){this.standAlone=e,this.standAlone?(this.setAttribute("stand-alone",!0),this.disposeScrollIndicator(),this.disposeOpenQuickSettings(),this.removeControls(),this.removeVisibleArea()):(this.removeAttribute("stand-alone"),this.createVisibleArea(),this.createControls(),this.minimapScrollIndicator&&this.initializeScrollIndicator(),this.displayPluginsControls&&this.initializeOpenQuickSettings())}requestUpdate(){this.frameRequested||(this.frameRequested=!0,requestAnimationFrame((()=>{this.update(),this.frameRequested=!1})))}requestForcedUpdate(){this.offscreenFirstRow=null,this.offscreenLastRow=null,this.requestUpdate()}update(){if(!(this.attached&&this.isVisible()&&this.minimap))return;const e=this.minimap;e.enableCache();const t=this.getFrontCanvas(),i=this.minimap.getDevicePixelRatio(),n=e.getTextEditorScaledScrollLeft(),s=e.getTextEditorScaledScrollTop()-e.getScrollTop(),l=Math.min(t.width/i,this.width),d=l+n;this.adjustToSoftWrap&&this.flexBasis?(this.style.flexBasis=this.flexBasis+"px",this.style.width=this.flexBasis+"px"):(this.style.flexBasis=null,this.style.width=null),o(this.visibleArea,{width:Math.round(d)+"px",height:Math.round(e.getTextEditorScaledHeight())+"px",transform:r(0,s,this.useHardwareAcceleration),"border-left-width":Math.round(n)+"px"}),o(this.controls,{width:Math.round(l)+"px"});const c=e.getFirstVisibleScreenRow()*e.getLineHeight()-e.getScrollTop();if(this.smoothScrolling){let e=r(0,c,this.useHardwareAcceleration);if(1!==i){const t=1/i;e+=" "+a(t,t,this.useHardwareAcceleration)}o(this.backLayer.canvas,{transform:e}),o(this.tokensLayer.canvas,{transform:e}),o(this.frontLayer.canvas,{transform:e})}else{const e=1/i,t=a(e,e,this.useHardwareAcceleration);o(this.backLayer.canvas,{transform:t}),o(this.tokensLayer.canvas,{transform:t}),o(this.frontLayer.canvas,{transform:t})}if(this.minimapScrollIndicator&&!this.scrollIndicator&&e.canScroll()&&this.initializeScrollIndicator(),null!=this.scrollIndicator){const t=e.getScreenHeight(),i=t*(t/e.getHeight()),n=(t-i)*e.getScrollRatio();o(this.scrollIndicator,{height:i+"px",transform:r(0,n,this.useHardwareAcceleration)}),e.canScroll()||this.disposeScrollIndicator()}this.absoluteMode&&this.adjustAbsoluteModeHeight&&this.updateCanvasesSize(),this.updateCanvas(),e.clearCache()}setDisplayCodeHighlights(e){this.displayCodeHighlights=e,this.attached&&this.requestForcedUpdate()}pollDOM(){const e=this.checkForVisibilityChange();this.isVisible()&&(this.wasVisible||this.requestForcedUpdate(),this.measureHeightAndWidth(e,!1))}checkForVisibilityChange(){return this.isVisible()?!this.wasVisible&&(this.wasVisible=!0,this.wasVisible):this.wasVisible?(this.wasVisible=!1,!0):(this.wasVisible=!1,this.wasVisible)}measureHeightAndWidth(e,t=!0){if(!this.minimap)return;const i=this.style.flexBasis;this.style.flexBasis="";const n=this.width!==this.clientWidth||this.height!==this.clientHeight;this.height=this.clientHeight,this.width=this.clientWidth;let s=this.width;if(null!=this.minimap&&this.minimap.setScreenHeightAndWidth(this.height,this.width),(n||e||t)&&this.requestForcedUpdate(),this.isVisible())if(n||t){if(this.adjustToSoftWrap){const e=atom.config.get("editor.preferredLineLength"),t=atom.config.get("editor.softWrap"),i=atom.config.get("editor.softWrapAtPreferredLineLength"),n=e*this.minimap.getCharWidth();!(t&&i&&e)||n>this.width&&this.adjustOnlyIfSmaller?delete this.flexBasis:(this.flexBasis=n,s=n)}else delete this.flexBasis;this.updateCanvasesSize(s)}else this.style.flexBasis=i}updateCanvasesSize(e){const t=this.minimap.getDevicePixelRatio(),i=this.height+this.minimap.getLineHeight(),n=this.absoluteMode&&this.adjustAbsoluteModeHeight?Math.min(this.minimap.getHeight(),i):i,s=this.getFrontCanvas();null==e&&(e=s.width/t),e===s.width&&n===s.height||(this.setCanvasesSize(e*t,n*t),this.absoluteMode&&this.adjustAbsoluteModeHeight&&(this.offscreenFirstRow=null,this.offscreenLastRow=null))}canvasPressed({y:e,isLeftMouse:t,isMiddleMouse:i}){if(!this.minimap.isStandAlone())if(t)this.canvasLeftMousePressed(e);else if(i){this.canvasMiddleMousePressed(e);const{top:t,height:i}=this.visibleArea.getBoundingClientRect();this.startDrag({y:t+i/2,isLeftMouse:!1,isMiddleMouse:!0})}}canvasLeftMousePressed(e){const t=e-this.getBoundingClientRect().top,i=Math.floor(t/this.minimap.getLineHeight())+this.minimap.getFirstVisibleScreenRow(),n=this.minimap.getTextEditor(),s=this.minimap.getTextEditorElement(),o=i*n.getLineHeightInPixels()-this.minimap.getTextEditorHeight()/2,r=s.pixelPositionForScreenPosition([i,0]).top-this.minimap.getTextEditorHeight()/2;if(atom.config.get("minimap.moveCursorOnMinimapClick")&&n.setCursorScreenPosition([i,0]),atom.config.get("minimap.scrollAnimation")){const e=atom.config.get("minimap.scrollAnimationDuration"),t=this.minimap.scrollIndependentlyOnMouseWheel(),i=this.minimap.getTextEditorScrollTop(),n=r;let s;if(t){const t=this.minimap.getScrollTop(),r=Math.min(1,o/(this.minimap.getTextEditorMaxScrollTop()||1))*this.minimap.getMaxScrollTop();s=(e,i)=>{null!==this.minimap&&(this.minimap.setTextEditorScrollTop(e,!0),this.minimap.setScrollTop(t+(r-t)*i))},l({from:i,to:n,duration:e,step:s})}else s=e=>{null!==this.minimap&&this.minimap.setTextEditorScrollTop(e)},l({from:i,to:n,duration:e,step:s})}else this.minimap.setTextEditorScrollTop(r)}canvasMiddleMousePressed(e){const{top:t}=this.getBoundingClientRect(),i=(e-t-this.minimap.getTextEditorScaledHeight()/2)/(this.minimap.getVisibleHeight()-this.minimap.getTextEditorScaledHeight());this.minimap.setTextEditorScrollTop(i*this.minimap.getTextEditorMaxScrollTop())}subscribeToMediaQuery(){const e=window.matchMedia("screen and (-webkit-min-device-pixel-ratio: 1.5)"),t=()=>{this.requestForcedUpdate()};return e.addEventListener("change",t),new h.Disposable((()=>{e.removeEventListener("change",t)}))}startDrag({y:e,isLeftMouse:t,isMiddleMouse:i}){if(!this.minimap)return;if(!t&&!i)return;const o={dragOffset:e-this.visibleArea.getBoundingClientRect().top,offsetTop:this.getBoundingClientRect().top},r=e=>this.drag(n(e),o),a=()=>this.endDrag(),l=e=>this.drag(s(e),o);document.body.addEventListener("mousemove",r,{passive:!0}),document.body.addEventListener("mouseup",a,{passive:!0}),document.body.addEventListener("mouseleave",a,{passive:!0}),document.body.addEventListener("touchmove",l,{passive:!0}),document.body.addEventListener("touchend",a,{passive:!0}),document.body.addEventListener("touchcancel",a,{passive:!0}),this.dragSubscription=new h.Disposable((()=>{document.body.removeEventListener("mousemove",r),document.body.removeEventListener("mouseup",a),document.body.removeEventListener("mouseleave",a),document.body.removeEventListener("touchmove",l),document.body.removeEventListener("touchend",a),document.body.removeEventListener("touchcancel",a)}))}drag({y:e,isLeftMouse:t,isMiddleMouse:i},n){if(!this.minimap)return;if(!t&&!i)return;const s=(e-n.offsetTop-n.dragOffset)/(this.minimap.getVisibleHeight()-this.minimap.getTextEditorScaledHeight());this.minimap.setTextEditorScrollTop(s*this.minimap.getTextEditorMaxScrollTop())}endDrag(){this.minimap&&this.dragSubscription.dispose()}}.initClass();i.default=T},{"atom-utils-plus":"hU6px","element-resize-detector":"9Gsuc","./decoration-management":"lETdl","./main":"lUIf1","./mixins/canvas-drawer":"6jfaY","./decorators/include":"73QcF","./decorators/element":"dpbCf","./minimap-quick-settings-element":"6CRRj","@parcel/transformer-js/src/esmodule-helpers.js":"f4OPK"}],hU6px:[(e,t,i)=>{t.exports={requirePackages:(...e)=>new Promise(((t,i)=>{var n,s,o,r;return o=[],n=[],s=e.length,r=()=>{if(0==--s)return n.length>0?i(n):t(o)},e.forEach(((e,t)=>{var i,s;return i=e=>(n[t]=e,r()),null!=(s=atom.packages.activatePackage(e).then((e=>(o[t]=e.mainModule,r())))).fail?s.fail(i):null!=s.catch?s.catch(i):void 0}))})),registerOrUpdateElement:e("./register-or-update-element"),Ancestors:e("./mixins/ancestors"),AncestorsMethods:e("./mixins/ancestors"),DisposableEvents:e("./mixins/disposable-events"),EventsDelegation:e("./mixins/events-delegation"),SpacePenDSL:e("./mixins/space-pen-dsl")}},{"./register-or-update-element":"iSI18","./mixins/ancestors":"fjl7c","./mixins/disposable-events":"7Xqu4","./mixins/events-delegation":"WVxYn","./mixins/space-pen-dsl":"jUPuS"}],iSI18:[function(e,t,i){var n,s,o,r;({deprecate:r}=e("grim")),null!=global.__CUSTOM_HTML_ELEMENTS_CLASSES__?(global.__ATOM_UTILS_CUSTOM_ELEMENT_CLASSES__=global.__CUSTOM_HTML_ELEMENTS_CLASSES__,delete global.__CUSTOM_HTML_ELEMENTS_CLASSES__):null==global.__ATOM_UTILS_CUSTOM_ELEMENT_CLASSES__&&(global.__ATOM_UTILS_CUSTOM_ELEMENT_CLASSES__={}),n=["createdCallback","attachedCallback","detachedCallback","attributeChangedCallback"],o=function(e,t){return n.forEach((function(t){return Object.defineProperty(e,t,{value(){var e;return null!=(e=this["__"+t])?e.apply(this,arguments):void 0},writable:!0,enumerable:!0,configurable:!0})})),Object.getOwnPropertyNames(t).forEach((i=>{var s;if("constructor"!==i)return s=Object.getOwnPropertyDescriptor(t,i),n.indexOf(i)>-1?Object.defineProperty(e,"__"+i,s):Object.defineProperty(e,i,s)}))},s=(e,t)=>Object.getOwnPropertyNames(t).forEach((i=>{if("length"!==i&&"name"!==i&&"arguments"!==i&&"caller"!==i&&"prototype"!==i)return Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))})),t.exports=(e,t)=>{var i,n,a,l,d;return({class:a}=t),(l=null!=a?a.prototype:null!=(d=t.prototype)?d:t)===t&&r("Using the prototype as the second argument is deprecated, use the prototype option instead"),__ATOM_UTILS_CUSTOM_ELEMENT_CLASSES__[e]?(i=__ATOM_UTILS_CUSTOM_ELEMENT_CLASSES__[e],o(i.prototype,l),null!=a&&s(i,a),i):(n=Object.create(HTMLElement.prototype),o(n,l),i=document.registerElement(e,{prototype:Object.create(n)}),null!=a&&s(i,a),__ATOM_UTILS_CUSTOM_ELEMENT_CLASSES__[e]=i)}},{grim:"bT2Wo"}],bT2Wo:[function(e,t,i){var n,s,o,r;n=e("./deprecation"),null==global.__grim__&&(s=e("event-kit").Emitter,r=global.__grim__={deprecations:{},emitter:new s,includeDeprecatedAPIs:!0,getDeprecations(){var e,t,i,n,s,o,a;for(n in e=[],a=r.deprecations)for(s in t=a[n])for(o in i=t[s])e.push(i[o]);return e},getDeprecationsLength(){return this.getDeprecations().length},clearDeprecations(){r.deprecations={}},logDeprecations(){var e,t,i,n;for((t=this.getDeprecations()).sort(((e,t)=>t.getCallCount()-e.getCallCount())),console.warn("\nCalls to deprecated functions\n-----------------------------"),i=0,n=t.length;n>i;i++)console.warn("("+(e=t[i]).getCallCount()+") "+e.getOriginName()+" : "+e.getMessage(),e)},deprecate(e,t){var i,s,a,l,d,c,h,u,p,m,g,f,v;c=Error.stackTraceLimit;try{Error.stackTraceLimit=7,u=(u=null!=(f="function"==typeof(a=Error()).getRawStack?a.getRawStack():void 0)?f:o(a)).slice(1)}finally{Error.stackTraceLimit=c}l=(s=u[0]).getFileName(),d=s.getLineNumber(),h=null!=(v=null!=t?t.packageName:void 0)?v:"",null==(p=r.deprecations)[l]&&(p[l]={}),null==(m=r.deprecations[l])[d]&&(m[d]={}),null==(g=r.deprecations[l][d])[h]&&(g[h]=new n(e)),(i=r.deprecations[l][d][h]).addStack(u,t),r.emitter.emit("updated",i)},addSerializedDeprecation(e){var t,i,s,o,a,l,d,c,h,u,p,m,g,f,v;for(o=(t=n.deserialize(e)).getMessage(),i=t.fileName,s=t.lineNumber,a=null!=(g=null!=(f=(d=t.getStacks())[0])&&null!=(v=f.metadata)?v.packageName:void 0)?g:"",null==(c=r.deprecations)[i]&&(c[i]={}),null==(h=r.deprecations[i])[s]&&(h[s]={}),null==(u=r.deprecations[i][s])[a]&&(u[a]=new n(o,i,s)),t=r.deprecations[i][s][a],p=0,m=d.length;m>p;p++)t.addStack(l=d[p],l.metadata);r.emitter.emit("updated",t)},on:(e,t)=>r.emitter.on(e,t)}),o=e=>{var t,i;return t=Error.prepareStackTrace,Error.prepareStackTrace=(e,t)=>t,Error.captureStackTrace(e,o),i=e.stack,Error.prepareStackTrace=t,i},t.exports=global.__grim__},{"./deprecation":"b5aqo","event-kit":"4GfG7"}],b5aqo:[function(e,t,i){t.exports=function(){function e(e,t,i){this.message=e,this.fileName=t,this.lineNumber=i,this.callCount=0,this.stackCount=0,this.stacks={},this.stackCallCounts={}}return e.getFunctionNameFromCallsite=e=>{},e.deserialize=t=>{var i,n,s,o,r;for(s=t.stacks,i=new e(t.message,t.fileName,t.lineNumber),o=0,r=s.length;r>o;o++)i.addStack(n=s[o],n.metadata);return i},e.prototype.getFunctionNameFromCallsite=e=>{var t,i,n;return null!=e.functionName?e.functionName:e.isToplevel()?null!=(t=e.getFunctionName())?t:"<unknown>":e.isConstructor()?"new "+e.getFunctionName():e.getMethodName()&&!e.getFunctionName()?e.getMethodName():e.getTypeName()+"."+(null!=(i=null!=(n=e.getMethodName())?n:e.getFunctionName())?i:"<anonymous>")},e.prototype.getLocationFromCallsite=function(e){return null==e?"unknown":null!=e.location?e.location:e.isNative()?"native":e.isEval()?"eval at "+this.getLocationFromCallsite(e.getEvalOrigin()):e.getFileName()+":"+e.getLineNumber()+":"+e.getColumnNumber()},e.prototype.getFileNameFromCallSite=e=>{var t;return null!=(t=e.fileName)?t:e.getFileName()},e.prototype.getOriginName=function(){return this.originName},e.prototype.getMessage=function(){return this.message},e.prototype.getStacks=function(){var e,t,i,n,s;for(e in i=[],s=this.stacks)(t=this.parseStack(n=s[e])).callCount=this.stackCallCounts[e],t.metadata=n.metadata,i.push(t);return i},e.prototype.getStackCount=function(){return this.stackCount},e.prototype.getCallCount=function(){return this.callCount},e.prototype.addStack=function(e,t){var i,n,s;return null==this.originName&&(this.originName=this.getFunctionNameFromCallsite(e[0])),null==this.fileName&&(this.fileName=this.getFileNameFromCallSite(e[0])),null==this.lineNumber&&(this.lineNumber="function"==typeof(n=e[0]).getLineNumber?n.getLineNumber():void 0),this.callCount++,e.metadata=t,i=this.getLocationFromCallsite(e[1]),null==this.stacks[i]&&(this.stacks[i]=e,this.stackCount++),null==(s=this.stackCallCounts)[i]&&(s[i]=0),this.stackCallCounts[i]++},e.prototype.parseStack=function(e){return e.map((t=this,e=>({functionName:t.getFunctionNameFromCallsite(e),location:t.getLocationFromCallsite(e),fileName:t.getFileNameFromCallSite(e)})));var t},e.prototype.serialize=function(){return{message:this.getMessage(),lineNumber:this.lineNumber,fileName:this.fileName,stacks:this.getStacks()}},e}()},{}],"4GfG7":[(e,t,i)=>{"use strict";i.Emitter=e("./emitter"),i.Disposable=e("./disposable"),i.CompositeDisposable=e("./composite-disposable")},{"./emitter":"aHp7i","./disposable":"dg9hg","./composite-disposable":"3TYpB"}],aHp7i:[function(e,t,i){"use strict";function n(e,t){for(var i=0;t.length>i;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}var o=e("./disposable"),r=e("./composite-disposable"),a=function(){function e(){((e,t)=>{if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")})(0,e),this.disposed=!1,this.clear()}return s(e,null,[{key:"onEventHandlerException",value(e){var t=this;return 0===this.exceptionHandlers.length&&(this.dispatch=this.exceptionHandlingDispatch),this.exceptionHandlers.push(e),new o((()=>{if(t.exceptionHandlers.splice(t.exceptionHandlers.indexOf(e),1),0===t.exceptionHandlers.length)return t.dispatch=t.simpleDispatch}))}},{key:"simpleDispatch",value(e,t){return e(t)}},{key:"exceptionHandlingDispatch",value(e,t){try{return e(t)}catch(e){return this.exceptionHandlers.map((t=>t(e)))}}}]),s(e,[{key:"clear",value(){null!=this.subscriptions&&this.subscriptions.dispose(),this.subscriptions=new r,this.handlersByEventName={}}},{key:"dispose",value(){this.subscriptions.dispose(),this.handlersByEventName=null,this.disposed=!0}},{key:"on",value(e,t,i){var n=this;if(null==i&&(i=!1),this.disposed)throw Error("Emitter has been disposed");if("function"!=typeof t)throw Error("Handler must be a function");this.handlersByEventName[e]?i?this.handlersByEventName[e].unshift(t):this.handlersByEventName[e].push(t):this.handlersByEventName[e]=[t];var s=new o((()=>(n.subscriptions.remove(s),n.off(e,t))));return this.subscriptions.add(s),s}},{key:"once",value(e,t,i){null==i&&(i=!1);var n=this.on(e,(e=>(n.dispose(),t(e))),i);return n}},{key:"preempt",value(e,t){return this.on(e,t,!0)}},{key:"off",value(e,t){if(!this.disposed){var i=this.handlersByEventName[e];if(i){var n=i.indexOf(t);0>n||i.splice(n,1),0===i.length&&delete this.handlersByEventName[e]}}}},{key:"emit",value(e,t){var i=this.handlersByEventName&&this.handlersByEventName[e];if(i)for(var n=i.slice(),s=0;n.length>s;s++)this.constructor.dispatch(n[s],t)}},{key:"emitAsync",value(e,t){var i=this,n=this.handlersByEventName&&this.handlersByEventName[e];if(n){var s=n.map((e=>i.constructor.dispatch(e,t)));return Promise.all(s).then((()=>{}))}return Promise.resolve()}},{key:"getEventNames",value(){return Object.keys(this.handlersByEventName)}},{key:"listenerCountForEventName",value(e){var t=this.handlersByEventName[e];return null==t?0:t.length}},{key:"getTotalListenerCount",value(){for(var e=0,t=Object.keys(this.handlersByEventName),i=0;t.length>i;i++)e+=this.handlersByEventName[t[i]].length;return e}}]),e}();a.dispatch=a.simpleDispatch,a.exceptionHandlers=[],t.exports=a},{"./disposable":"dg9hg","./composite-disposable":"3TYpB"}],dg9hg:[function(e,t,i){"use strict";function n(e,t){for(var i=0;t.length>i;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}t.exports=function(){function e(t){((e,t)=>{if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")})(0,e),this.disposed=!1,this.disposalAction=t}return s(e,null,[{key:"isDisposable",value(e){return"function"==typeof(null!=e?e.dispose:void 0)}}]),s(e,[{key:"dispose",value(){this.disposed||(this.disposed=!0,"function"==typeof this.disposalAction&&this.disposalAction(),this.disposalAction=null)}}]),e}()},{}],"3TYpB":[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(t){if(null==o&&(o=e("./disposable")),!o.isDisposable(t))throw new TypeError("Arguments to CompositeDisposable.add must have a .dispose() method")}var o;t.exports=function(){function e(){n(this,e),this.disposed=!1,this.disposables=new Set;var t=!0,i=!1,s=void 0;try{for(var o,r=arguments[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){var a=o.value;this.add(a)}}catch(e){i=!0,s=e}finally{try{t||null==r.return||r.return()}finally{if(i)throw s}}}var t;return(t=[{key:"dispose",value(){this.disposed||(this.disposed=!0,this.disposables.forEach((e=>e.dispose())),this.disposables=null)}},{key:"add",value(){if(!this.disposed){var e=!0,t=!1,i=void 0;try{for(var n,o=arguments[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var r=n.value;s(r),this.disposables.add(r)}}catch(e){t=!0,i=e}finally{try{e||null==o.return||o.return()}finally{if(t)throw i}}}}},{key:"remove",value(e){this.disposed||this.disposables.delete(e)}},{key:"delete",value(e){this.remove(e)}},{key:"clear",value(){this.disposed||this.disposables.clear()}}])&&function(e,t){for(var i=0;t.length>i;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(e.prototype,t),e}()},{"./disposable":"dg9hg"}],fjl7c:[function(e,t,i){var n;n=e("mixto"),t.exports=class e extends n{static parents(e,t="*"){var i;return i=[],this.eachParent(e,(e=>{if("function"==typeof e.matches?e.matches(t):void 0)return i.push(e)})),i}static eachParent(e,t){var i,n;for(null!=(i=e.parentNode)&&t(i),n=[];i=i.parentNode;)n.push(null!=i?t(i):void 0);return n}parents(t="*"){return e.parents(this,t)}queryParentSelectorAll(e){if(null==e)throw Error("::queryParentSelectorAll requires a valid selector as argument");return this.parents(e)}queryParentSelector(e){if(null==e)throw Error("::queryParentSelector requires a valid selector as argument");return this.queryParentSelectorAll(e)[0]}eachParent(t){return e.eachParent(this,t)}}},{mixto:"bSA4e"}],bSA4e:[function(e,t,i){!function(){var e,i,n,s;for(s in t.exports=n=function(){function t(){"function"==typeof this.extended&&this.extended()}return t.includeInto=function(t){var i,n,s;for(i in this.extend(t.prototype),this)n=this[i],-1===e.indexOf(i)&&(t.hasOwnProperty(i)||(t[i]=n));return null!=(s=this.included)?s.call(t):void 0},t.extend=function(e){var t,n,s,o,r;for(n=0,s=(o=Object.getOwnPropertyNames(this.prototype)).length;s>n;n++)-1===i.indexOf(t=o[n])&&(e.hasOwnProperty(t)||(e[t]=this.prototype[t]));return null!=(r=this.prototype.extended)?r.call(e):void 0},t}(),e=["__super__"],n)e.push(s);i=["constructor","extended"]}()},{}],"7Xqu4":[(e,t,i)=>{var n,s;s=e("mixto"),({Disposable:n}=e("atom")),t.exports=class extends s{addDisposableEventListener(e,t,i,s){return e.addEventListener(t,i,s),new n((()=>e.removeEventListener(t,i)))}}},{mixto:"bSA4e"}],WVxYn:[function(e,t,i){var n,s,o,r,a,l;r=e("mixto"),o=e("./disposable-events"),({Disposable:s,CompositeDisposable:n}=e("atom")),l=(e,t)=>{var i,n;for(i in n=[],e)n.push(t(i,e[i]));return n},a="__NONE__",t.exports=function(){class e extends r{subscribeTo(e,t,i,n){var o,r;return e instanceof HTMLElement||([e,t,i,n]=[this,e,t,i]),"object"==typeof t&&([i,t,n]=[t,a,i]),null==this.eventsMap&&(this.eventsMap=new WeakMap),null==this.disposablesMap&&(this.disposablesMap=new WeakMap),null==this.eventsMap.get(e)&&this.eventsMap.set(e,{}),null==this.disposablesMap.get(e)&&this.disposablesMap.set(e,{}),r=this.eventsMap.get(e),o=this.disposablesMap.get(e),l(i,((i,s)=>(null==r[i]&&(r[i]={},o[i]=this.createEventListener(e,i,n)),r[i][t]=s))),new s((()=>this.unsubscribeFrom(e,t,i)))}unsubscribeFrom(e,t,i){var n,s,o;if(e instanceof HTMLElement||([e,t,i]=[this,e,t]),"object"==typeof t&&([i,t]=[t,a]),o=this.eventsMap.get(e)){for(s in i)delete o[s][t],0===Object.keys(o[s]).length&&((n=this.disposablesMap.get(e))[s].dispose(),delete n[s],delete o[s]);return 0===Object.keys(o).length?(this.eventsMap.delete(e),this.disposablesMap.delete(e)):void 0}}createEventListener(e,t,i){return this.addDisposableEventListener(e,t,(i=>{var n,s,o;if(n=null!=(s=this.eventsMap.get(e))?s[t]:void 0)return({target:o}=i),this.decorateEvent(i),this.eachSelectorFromTarget(i,o,n),i.isPropagationStopped||"function"==typeof n.__NONE__&&n.__NONE__(i),!0}),i)}eachSelectorFromTarget(e,t,i){return this.nodeAndItsAncestors(t,(t=>{if(!e.isPropagationStopped)return this.eachSelector(i,((i,n)=>{var s;if(s=this.targetMatch(t,i),!e.isImmediatePropagationStopped&&s)return n(e)}))}))}eachSelector(e,t){var i,n,s,o;for(-1!==(s=Object.keys(e)).indexOf(a)&&s.splice(s.indexOf(a),1),s.sort(((e,t)=>t.split(" ").length-e.split(" ").length)),i=0,o=s.length;o>i;i++)if(t(n=s[i],e[n]))return!0;return!1}targetMatch(e,t){var i;if(e.matches(t))return!0;for(i=e.parentNode;null!=i&&null!=i.matches;){if(i.matches(t))return!0;i=i.parentNode}return!1}nodeAndItsAncestors(e,t){var i,n;for(i=e.parentNode,t(e),n=[];null!=i&&null!=i.matches;)t(i),n.push(i=i.parentNode);return n}decorateEvent(e){var t,i;return t=Event.prototype.stopPropagation,e.stopPropagation=function(){return this.isPropagationStopped=!0,t.apply(this,arguments)},i=Event.prototype.stopImmediatePropagation,e.stopImmediatePropagation=function(){return this.isImmediatePropagationStopped=!0,i.apply(this,arguments)}}}return o.includeInto(e),e}()},{mixto:"bSA4e","./disposable-events":"7Xqu4"}],jUPuS:[function(e,t,i){var n,s,o,r,a,l,d;o=e("mixto"),l="a abbr address article aside audio b bdi bdo blockquote body button canvas caption cite code colgroup datalist dd del details dfn dialog div dl dt em fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header html i iframe ins kbd label legend li main map mark menu meter nav noscript object ol optgroup option output p pre progress q rp rt ruby s samp script section select small span strong style sub summary sup table tbody td textarea tfoot th thead time title tr u ul var video area base br col command embed hr img input keygen link meta param source track wbr".split(/\s+/),r={},"area base br col command embed hr img input keygen link meta param source track wbr".split(/\s+/).forEach((e=>r[e]=!0)),n=class extends o{buildContent(){if(null!=this.constructor.content)return a.buildContent(this,this.constructor.content)}},t.exports=a=function(){class e extends o{static includeInto(t){return super.includeInto(t),Object.defineProperty(t,"content",{enumerable:!1,get(){return this.prototype.__content__},set(e){return this.prototype.__content__=e}}),Object.defineProperty(t.prototype,"createdCallback",{enumerable:!0,get(){return this.__create__},set(e){return this.__createdCallback__=e}}),Object.defineProperty(t.prototype,"__create__",{enumerable:!0,value(){if(null!=this.__content__&&e.buildContent(this,this.__content__),null!=this.__createdCallback__)return this.__createdCallback__()}}),t.useShadowRoot=()=>t.prototype.__useShadowRoot__=!0}static buildContent(e,t){var i,n,s;return s=new d,t.call(s),[i]=s.buildHtml(),(n=n=e.__useShadowRoot__?e.shadowRoot=e.createShadowRoot():e).innerHTML=i,this.wireOutlets(e,n)}static wireOutlets(e,t){var i,n,s,o;for(n=0,s=(o=t.querySelectorAll("[outlet]")).length;s>n;n++)e[(i=o[n]).getAttribute("outlet")]=i,i.removeAttribute("outlet")}}return e.Babel=n,e}(),d=function(){class e{constructor(){this.currentBuilder=new s}subview(e,t){return this.currentBuilder.subview(e,t)}text(e){return this.currentBuilder.text(e)}tag(e,...t){return this.currentBuilder.tag(e,...t)}raw(e){return this.currentBuilder.raw(e)}buildHtml(){return this.currentBuilder.buildHtml()}}return l.forEach((function(t){return e.prototype[t]=function(...e){return this.currentBuilder.tag(t,...e)}})),e}(),s=class{constructor(){this.document=[],this.postProcessingSteps=[]}buildHtml(){return[this.document.join(""),this.postProcessingSteps]}tag(e,...t){var i;if(i=this.extractOptions(t),this.openTag(e,i.attributes),!r.hasOwnProperty(e))return"function"==typeof i.content&&i.content(),i.text&&this.text(i.text),this.closeTag(e);if(null!=i.text||null!=i.content)throw Error(`Self-closing tag ${e} cannot have text or content`)}openTag(e,t){var i,n,s;return 0===this.document.length&&null==t&&(t={}),s=(n=(()=>{var e;for(i in e=[],t)e.push(`${i}="${t[i]}"`);return e})()).length?" "+n.join(" "):"",this.document.push(`<${e}${s}>`)}closeTag(e){return this.document.push(`</${e}>`)}text(e){var t;return t=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),this.document.push(t)}raw(e){return this.document.push(e)}subview(e,t){var i;return i="subview-"+ ++idCounter,this.tag("div",{id:i}),this.postProcessingSteps.push((n=>(n[e]=t,t.parentView=n,n.find("div#"+i).replaceWith(t))))}extractOptions(e){var t,i,n,s;for(s={},i=0,n=e.length;n>i;i++)switch(typeof(t=e[i])){case"function":s.content=t;break;case"string":case"number":s.text=""+t;break;default:s.attributes=t}return s}}},{mixto:"bSA4e"}],"9Gsuc":[(e,t,i)=>{"use strict";function n(e){return Array.isArray(e)||void 0!==e.length}function s(e){if(Array.isArray(e))return e;var t=[];return a(e,(e=>{t.push(e)})),t}function o(e){return e&&1===e.nodeType}function r(e,t,i){var n=e[t];return null==n&&void 0!==i?i:n}var a=e("./collection-utils").forEach,l=e("./element-utils"),d=e("./listener-handler"),c=e("./id-generator"),h=e("./id-handler"),u=e("./reporter"),p=e("./browser-detector"),m=e("batch-processor"),g=e("./state-handler"),f=e("./detection-strategy/object.js"),v=e("./detection-strategy/scroll.js");t.exports=e=>{var t;if((e=e||{}).idHandler)t={get(t){return e.idHandler.get(t,!0)},set:e.idHandler.set};else{var i=c(),b=h({idGenerator:i,stateHandler:g});t=b}var y=e.reporter;y||(y=u(!1===y));var S=r(e,"batchProcessor",m({reporter:y})),w={};w.callOnAdd=!!r(e,"callOnAdd",!0),w.debug=!!r(e,"debug",!1);var x,E=d(t),C=l({stateHandler:g}),D=r(e,"strategy","object"),M=r(e,"important",!1),T={reporter:y,batchProcessor:S,stateHandler:g,idHandler:t,important:M};if("scroll"===D&&(p.isLegacyOpera()?(y.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),D="object"):p.isIE(9)&&(y.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),D="object")),"scroll"===D)x=v(T);else{if("object"!==D)throw Error("Invalid strategy name: "+D);x=f(T)}var k={};return{listenTo(e,i,l){function d(e){var t=E.get(e);a(t,(t=>{t(e)}))}function c(e,t,i){E.add(t,i),e&&i(t)}if(l||(l=i,i=e,e={}),!i)throw Error("At least one element required.");if(!l)throw Error("Listener required.");if(o(i))i=[i];else{if(!n(i))return y.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");i=s(i)}var h=0,u=r(e,"callOnAdd",w.callOnAdd),p=r(e,"onReady",(()=>{})),m=r(e,"debug",w.debug);a(i,(e=>{g.getState(e)||(g.initState(e),t.set(e));var n=t.get(e);if(m&&y.log("Attaching listener to element",n,e),!C.isDetectable(e))return m&&y.log(n,"Not detectable."),C.isBusy(e)?(m&&y.log(n,"System busy making it detectable"),c(u,e,l),k[n]=k[n]||[],void k[n].push((()=>{++h===i.length&&p()}))):(m&&y.log(n,"Making detectable..."),C.markBusy(e,!0),x.makeDetectable({debug:m,important:M},e,(e=>{if(m&&y.log(n,"onElementDetectable"),g.getState(e)){C.markAsDetectable(e),C.markBusy(e,!1),x.addListener(e,d),c(u,e,l);var t=g.getState(e);t&&t.startSize&&(t.startSize.width===e.offsetWidth&&t.startSize.height===e.offsetHeight||d(e)),k[n]&&a(k[n],(e=>{e()}))}else m&&y.log(n,"Element uninstalled before being detectable.");delete k[n],++h===i.length&&p()})));m&&y.log(n,"Already detecable, adding listener."),c(u,e,l),h++})),h===i.length&&p()},removeListener:E.removeListener,removeAllListeners:E.removeAllListeners,uninstall(e){if(!e)return y.error("At least one element is required.");if(o(e))e=[e];else{if(!n(e))return y.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");e=s(e)}a(e,(e=>{E.removeAllListeners(e),x.uninstall(e),g.cleanState(e)}))},initDocument(e){x.initDocument&&x.initDocument(e)}}}},{"./collection-utils":"dbW1O","./element-utils":"d7GMv","./listener-handler":"kc1Oo","./id-generator":"7c7Ji","./id-handler":"3eD3L","./reporter":"iyHlG","./browser-detector":"70M4K","batch-processor":"5dcTz","./state-handler":"h4zq1","./detection-strategy/object.js":"bb9gk","./detection-strategy/scroll.js":"j75Jr"}],dbW1O:[(e,t,i)=>{"use strict";(t.exports={}).forEach=(e,t)=>{for(var i=0;e.length>i;i++){var n=t(e[i]);if(n)return n}}},{}],d7GMv:[(e,t,i)=>{"use strict";t.exports=e=>{var t=e.stateHandler.getState;return{isDetectable(e){var i=t(e);return i&&!!i.isDetectable},markAsDetectable(e){t(e).isDetectable=!0},isBusy(e){return!!t(e).busy},markBusy(e,i){t(e).busy=!!i}}}},{}],kc1Oo:[(e,t,i)=>{"use strict";t.exports=e=>{function t(t){var n=e.get(t);return void 0===n?[]:i[n]||[]}var i={};return{get:t,add(t,n){var s=e.get(t);i[s]||(i[s]=[]),i[s].push(n)},removeListener(e,i){for(var n=t(e),s=0,o=n.length;o>s;++s)if(n[s]===i){n.splice(s,1);break}},removeAllListeners(e){var i=t(e);i&&(i.length=0)}}}},{}],"7c7Ji":[(e,t,i)=>{"use strict";t.exports=()=>{var e=1;return{generate(){return e++}}}},{}],"3eD3L":[(e,t,i)=>{"use strict";t.exports=e=>{var t=e.idGenerator,i=e.stateHandler.getState;return{get(e){var t=i(e);return t&&void 0!==t.id?t.id:null},set(e){var n=i(e);if(!n)throw Error("setId required the element to have a resize detection state.");var s=t.generate();return n.id=s,s}}}},{}],iyHlG:[(e,t,i)=>{"use strict";t.exports=e=>{function t(){}var i={log:t,warn:t,error:t};if(!e&&window.console){var n=(e,t)=>{e[t]=function(){var e=console[t];if(e.apply)e.apply(console,arguments);else for(var i=0;arguments.length>i;i++)e(arguments[i])}};n(i,"log"),n(i,"warn"),n(i,"error")}return i}},{}],"70M4K":[(e,t,i)=>{"use strict";var n=t.exports={};n.isIE=e=>{return!(-1===(t=navigator.userAgent.toLowerCase()).indexOf("msie")&&-1===t.indexOf("trident")&&-1===t.indexOf(" edge/")||e&&e!==(()=>{var e=3,t=document.createElement("div"),i=t.getElementsByTagName("i");do{t.innerHTML="\x3c!--[if gt IE "+ ++e+"]><i></i><![endif]--\x3e"}while(i[0]);return e>4?e:void 0})());var t},n.isLegacyOpera=()=>!!window.opera},{}],"5dcTz":[(e,t,i)=>{"use strict";function n(){var e={},t=0,i=0,n=0;return{add(s,o){o||(o=s,s=0),s>i?i=s:n>s&&(n=s),e[s]||(e[s]=[]),e[s].push(o),t++},process(){for(var t=n;i>=t;t++)for(var s=e[t],o=0;s.length>o;o++)(0,s[o])()},size(){return t}}}var s=e("./utils");t.exports=e=>{function t(){for(c=!0;d.size();){var e=d;d=n(),e.process()}c=!1}function i(){l=setTimeout(t,0)}var o=(e=e||{}).reporter,r=s.getOption(e,"async",!0),a=s.getOption(e,"auto",!0);a&&!r&&(o&&o.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),r=!0);var l,d=n(),c=!1;return{add(e,t){!c&&a&&r&&0===d.size()&&i(),d.add(e,t)},force(e){c||(void 0===e&&(e=r),l&&(clearTimeout(l),l=null),e?i():t())}}}},{"./utils":"l7fdi"}],l7fdi:[(e,t,i)=>{"use strict";(t.exports={}).getOption=(e,t,i)=>{var n=e[t];return null==n&&void 0!==i?i:n}},{}],h4zq1:[(e,t,i)=>{"use strict";function n(e){return e._erd}t.exports={initState(e){return e._erd={},n(e)},getState:n,cleanState(e){delete e._erd}}},{}],bb9gk:[function(e,t,i){"use strict";var n=e("../browser-detector");t.exports=function(e){function t(e){return o(e).object}var i=(e=e||{}).reporter,s=e.batchProcessor,o=e.stateHandler.getState;if(!i)throw Error("Missing required dependency: reporter.");return{makeDetectable(t,r,a){a||(a=r,r=t,t=null),t=t||{},n.isIE(8)?a(r):function(r,a){function l(){function e(){if("static"===u.position){r.style.setProperty("position","relative",t.important?"important":"");var e=(e,i,n,s)=>{var o=n[s];"auto"!==o&&"0"!==(e=>e.replace(/[^-\d\.]/g,""))(o)&&(e.warn("An element that is positioned static has style."+s+"="+o+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+s+" will be set to 0. Element: ",i),i.style.setProperty(s,"0",t.important?"important":""))};e(i,r,u,"top"),e(i,r,u,"right"),e(i,r,u,"bottom"),e(i,r,u,"left")}}""!==u.position&&(e(),h=!0);var s=document.createElement("object");s.style.cssText=c,s.tabIndex=-1,s.type="text/html",s.setAttribute("aria-hidden","true"),s.onload=function(){h||e(),function e(t,i){if(!t.contentDocument){var n=o(t);return n.checkForObjectDocumentTimeoutId&&window.clearTimeout(n.checkForObjectDocumentTimeoutId),void(n.checkForObjectDocumentTimeoutId=setTimeout((()=>{n.checkForObjectDocumentTimeoutId=0,e(t,i)}),100))}i(t.contentDocument)}(this,(e=>{a(r)}))},n.isIE()||(s.data="about:blank"),o(r)&&(r.appendChild(s),o(r).object=s,n.isIE()&&(s.data="about:blank"))}var d,c=(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"].join(d=e.important?" !important; ":"; ")+d).trim(),h=!1,u=window.getComputedStyle(r),p=r.offsetWidth,m=r.offsetHeight;o(r).startSize={width:p,height:m},s?s.add(l):l()}(r,a)},addListener(e,i){function s(){i(e)}if(n.isIE(8))o(e).object={proxy:s},e.attachEvent("onresize",s);else{var r=t(e);if(!r)throw Error("Element is not detectable by this strategy.");r.contentDocument.defaultView.addEventListener("resize",s)}},uninstall(e){if(o(e)){var i=t(e);i&&(n.isIE(8)?e.detachEvent("onresize",i.proxy):e.removeChild(i),o(e).checkForObjectDocumentTimeoutId&&window.clearTimeout(o(e).checkForObjectDocumentTimeoutId),delete o(e).object)}}}}},{"../browser-detector":"70M4K"}],j75Jr:[(e,t,i)=>{"use strict";var n=e("../collection-utils").forEach;t.exports=e=>{function t(e){((e,t,n)=>{if(!e.getElementById(t)){var s=n+"_animation",o=n+"_animation_active",r="/* Created by the element-resize-detector library. */\n";r+="."+n+" > div::-webkit-scrollbar { "+i(["display: none"])+" }\n\n",r+="."+o+" { "+i(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+s,"animation-name: "+s])+" }\n",r+="@-webkit-keyframes "+s+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }\n",((i,n)=>{n=n||(t=>{e.head.appendChild(t)});var s=e.createElement("style");s.innerHTML=i,s.id=t,n(s)})(r+="@keyframes "+s+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }")}})(e,"erd_scroll_detection_scrollbar_style",p)}function i(t){var i=e.important?" !important; ":"; ";return(t.join(i)+i).trim()}function s(e,t,i){if(e.addEventListener)e.addEventListener(t,i);else{if(!e.attachEvent)return l.error("[scroll] Don't know how to add event listeners.");e.attachEvent("on"+t,i)}}function o(e,t,i){if(e.removeEventListener)e.removeEventListener(t,i);else{if(!e.detachEvent)return l.error("[scroll] Don't know how to remove event listeners.");e.detachEvent("on"+t,i)}}function r(e){return c(e).container.childNodes[0].childNodes[0].childNodes[0]}function a(e){return c(e).container.childNodes[0].childNodes[0].childNodes[1]}var l=(e=e||{}).reporter,d=e.batchProcessor,c=e.stateHandler.getState,h=e.idHandler;if(!d)throw Error("Missing required dependency: batchProcessor");if(!l)throw Error("Missing required dependency: reporter.");var u=(()=>{var e=document.createElement("div");e.style.cssText=i(["position: absolute","width: 1000px","height: 1000px","visibility: hidden","margin: 0","padding: 0"]);var t=document.createElement("div");t.style.cssText=i(["position: absolute","width: 500px","height: 500px","overflow: scroll","visibility: none","top: -1500px","left: -1500px","visibility: hidden","margin: 0","padding: 0"]),t.appendChild(e),document.body.insertBefore(t,document.body.firstChild);var n=500-t.clientWidth,s=500-t.clientHeight;return document.body.removeChild(t),{width:n,height:s}})(),p="erd_scroll_detection_container";return t(window.document),{makeDetectable(e,t,o){function m(){if(e.debug){var i=[].slice.call(arguments);if(i.unshift(h.get(t),"Scroll: "),l.log.apply)l.log.apply(null,i);else for(var n=0;i.length>n;n++)l.log(i[n])}}function g(e){var t=c(e).container.childNodes[0],i=window.getComputedStyle(t);return!i.width||-1===i.width.indexOf("px")}function f(){var e=window.getComputedStyle(t),i={};return i.position=e.position,i.width=t.offsetWidth,i.height=t.offsetHeight,i.top=e.top,i.right=e.right,i.bottom=e.bottom,i.left=e.left,i.widthCSS=e.width,i.heightCSS=e.height,i}function v(){if(m("storeStyle invoked."),c(t)){var e=f();c(t).style=e}else m("Aborting because element has been uninstalled")}function b(e,t,i){c(e).lastWidth=t,c(e).lastHeight=i}function y(){return 2*u.width+1}function S(){return 2*u.height+1}function w(e){return e+10+y()}function x(e){return e+10+S()}function E(e,t,i){var n=r(e),s=a(e),o=w(t),l=x(i),d=(e=>2*e+y())(t),c=(e=>2*e+S())(i);n.scrollLeft=o,n.scrollTop=l,s.scrollLeft=d,s.scrollTop=c}function C(){var e=c(t).container;if(!e){(e=document.createElement("div")).className=p,e.style.cssText=i(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),c(t).container=e,(e=>{e.className+=" "+p+"_animation_active"})(e),t.appendChild(e);var n=()=>{c(t).onRendered&&c(t).onRendered()};s(e,"animationstart",n),c(t).onAnimationStart=n}return e}function D(){function n(){c(t).onExpand&&c(t).onExpand()}function o(){c(t).onShrink&&c(t).onShrink()}if(m("Injecting elements"),c(t)){(()=>{var i=c(t).style;if("static"===i.position){t.style.setProperty("position","relative",e.important?"important":"");var n=(e,t,i,n)=>{var s=i[n];"auto"!==s&&"0"!==(e=>e.replace(/[^-\d\.]/g,""))(s)&&(e.warn("An element that is positioned static has style."+n+"="+s+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+n+" will be set to 0. Element: ",t),t.style[n]=0)};n(l,t,i,"top"),n(l,t,i,"right"),n(l,t,i,"bottom"),n(l,t,i,"left")}})();var r=c(t).container;r||(r=C());var a,d,h,g,f=u.width,v=u.height,b=i(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),y=i(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(["left: "+(a=(a=-(1+f))?a+"px":"0"),"top: "+(d=(d=-(1+v))?d+"px":"0"),"right: "+(g=(g=-f)?g+"px":"0"),"bottom: "+(h=(h=-v)?h+"px":"0")])),S=i(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),w=i(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),x=i(["position: absolute","left: 0","top: 0"]),E=i(["position: absolute","width: 200%","height: 200%"]),D=document.createElement("div"),M=document.createElement("div"),T=document.createElement("div"),k=document.createElement("div"),A=document.createElement("div"),L=document.createElement("div");D.dir="ltr",D.style.cssText=b,D.className=p,M.className=p,M.style.cssText=y,T.style.cssText=S,k.style.cssText=x,A.style.cssText=w,L.style.cssText=E,T.appendChild(k),A.appendChild(L),M.appendChild(T),M.appendChild(A),D.appendChild(M),r.appendChild(D),s(T,"scroll",n),s(A,"scroll",o),c(t).onExpandScroll=n,c(t).onShrinkScroll=o}else m("Aborting because element has been uninstalled")}function M(){function i(t,i,n){var s=(e=>r(e).childNodes[0])(t),o=w(i),a=x(n);s.style.setProperty("width",o+"px",e.important?"important":""),s.style.setProperty("height",a+"px",e.important?"important":"")}function s(n){var s=t.offsetWidth,r=t.offsetHeight,a=s!==c(t).lastWidth||r!==c(t).lastHeight;m("Storing current size",s,r),b(t,s,r),d.add(0,(()=>{a&&(c(t)?o()?(e.debug&&(t.offsetWidth===s&&t.offsetHeight===r||l.warn(h.get(t),"Scroll: Size changed before updating detector elements.")),i(t,s,r)):m("Aborting because element container has not been initialized"):m("Aborting because element has been uninstalled"))})),d.add(1,(()=>{c(t)?o()?E(t,s,r):m("Aborting because element container has not been initialized"):m("Aborting because element has been uninstalled")})),a&&n&&d.add(2,(()=>{c(t)?o()?n():m("Aborting because element container has not been initialized"):m("Aborting because element has been uninstalled")}))}function o(){return!!c(t).container}function u(){m("notifyListenersIfNeeded invoked");var e=c(t);return void 0===c(t).lastNotifiedWidth&&e.lastWidth===e.startSize.width&&e.lastHeight===e.startSize.height?m("Not notifying: Size is the same as the start size, and there has been no notification yet."):e.lastWidth===e.lastNotifiedWidth&&e.lastHeight===e.lastNotifiedHeight?m("Not notifying: Size already notified"):(m("Current size not notified, notifying..."),e.lastNotifiedWidth=e.lastWidth,e.lastNotifiedHeight=e.lastHeight,void n(c(t).listeners,(e=>{e(t)})))}function p(){m("Scroll detected."),g(t)?m("Scroll event fired while unrendered. Ignoring..."):s(u)}if(m("registerListenersAndPositionElements invoked."),c(t)){c(t).onRendered=()=>{if(m("startanimation triggered."),g(t))m("Ignoring since element is still unrendered...");else{m("Element rendered.");var e=r(t),i=a(t);0!==e.scrollLeft&&0!==e.scrollTop&&0!==i.scrollLeft&&0!==i.scrollTop||(m("Scrollbars out of sync. Updating detector elements..."),s(u))}},c(t).onExpand=p,c(t).onShrink=p;var f=c(t).style;i(t,f.width,f.height)}else m("Aborting because element has been uninstalled")}function T(){if(m("finalizeDomMutation invoked."),c(t)){var e=c(t).style;b(t,e.width,e.height),E(t,e.width,e.height)}else m("Aborting because element has been uninstalled")}function k(){o(t)}function A(){var e;m("Installing..."),c(t).listeners=[],e=f(),c(t).startSize={width:e.width,height:e.height},m("Element start size",c(t).startSize),d.add(0,v),d.add(1,D),d.add(2,M),d.add(3,T),d.add(4,k)}var L,P,R;o||(o=t,t=e,e=null),e=e||{},m("Making detectable..."),R=(P=L=t).getRootNode&&P.getRootNode().contains(P),P!==P.ownerDocument.body&&!P.ownerDocument.body.contains(P)&&!R||null===window.getComputedStyle(L)?(m("Element is detached"),C(),m("Waiting until element is attached..."),c(t).onRendered=()=>{m("Element is now attached"),A()}):A()},addListener(e,t){if(!c(e).listeners.push)throw Error("Cannot add listener to an element that is not detectable.");c(e).listeners.push(t)},uninstall(e){var t=c(e);t&&(t.onExpandScroll&&o(r(e),"scroll",t.onExpandScroll),t.onShrinkScroll&&o(a(e),"scroll",t.onShrinkScroll),t.onAnimationStart&&o(t.container,"animationstart",t.onAnimationStart),t.container&&e.removeChild(t.container))},initDocument:t}}},{"../collection-utils":"dbW1O"}],lETdl:[function(e,t,i){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(i);var s=e("atom"),o=e("./deps/underscore-plus"),r=e("path"),a=n.interopDefault(r),l=e("./decoration"),d=n.interopDefault(l);i.default=class{initializeDecorations(e){this.minimap=e,this.emitter=null==this.emitter?new s.Emitter:this.minimap.emitter,this.decorationsById=new Map,this.decorationsByMarkerId=new Map,this.decorationMarkerChangedSubscriptions=new Map,this.decorationMarkerDestroyedSubscriptions=new Map,this.decorationUpdatedSubscriptions=new Map,this.decorationDestroyedSubscriptions=new Map,this.destroyed=!1}getDecorations(){return[...this.decorationsById.values()]}onDidAddDecoration(e){return this.emitter.on("did-add-decoration",e)}onDidRemoveDecoration(e){return this.emitter.on("did-remove-decoration",e)}onDidChangeDecoration(e){return this.emitter.on("did-change-decoration",e)}onDidChangeDecorationRange(e){return this.emitter.on("did-change-decoration-range",e)}onDidUpdateDecoration(e){return this.emitter.on("did-update-decoration",e)}decorationForId(e){return this.decorationsById.get(e)}decorationsForScreenRowRange(e,t){const i={},n=this.findMarkers({intersectsScreenRowRange:[e,t]});for(let e=0,t=n.length;t>e;e++){const t=n[e],s=this.decorationsByMarkerId.get(t.id);void 0!==s&&(i[t.id]=s)}return i}decorationsByTypeThenRows(){if(null!=this.decorationsByTypeThenRowsCache)return this.decorationsByTypeThenRowsCache;const e={},t=this.decorationsById.values();for(const i of t){const t=i.marker.getScreenRange(),n=i.getProperties().type;null==e[n]&&(e[n]={});for(let s=t.start.row,o=t.end.row;o>=s;s++)null==e[n][s]&&(e[n][s]=[]),e[n][s].push(i)}return this.decorationsByTypeThenRowsCache=e,e}invalidateDecorationForScreenRowsCache(){this.decorationsByTypeThenRowsCache=null}decorateMarker(e,t){if(this.destroyed||this.minimap.destroyed||null==e)return;const{id:i}=e;"highlight"===t.type&&(t.type="highlight-over");const{type:n,plugin:s}=t;if(null==s&&(t.plugin=(()=>{const e=Error().stack.split("\n")[3].split("(")[1].replace(")",""),t=RegExp(atom.packages.getPackageDirPaths().join("|")+o.escapeRegExp(a.default.sep)),i=e.replace(t,"").split(a.default.sep)[0].replace(/minimap-|-minimap/,"");return 0>i.indexOf(a.default.sep)?i:void 0})()),null==t.scope&&null!=t.class){const e=t.class.split(" ").join(".");t.scope=".minimap ."+e}this.decorationMarkerDestroyedSubscriptions.has(i)||this.decorationMarkerDestroyedSubscriptions.set(i,e.onDidDestroy((()=>{this.removeAllDecorationsForMarker(e)}))),this.decorationMarkerChangedSubscriptions.has(i)||this.decorationMarkerChangedSubscriptions.set(i,e.onDidChange((t=>{const s=this.decorationsByMarkerId.get(i),o=e.getScreenRange();if(this.invalidateDecorationForScreenRowsCache(),void 0!==s)for(let i=0,n=s.length;n>i;i++){const n=s[i];this.emitter.emit("did-change-decoration",{marker:e,decoration:n,event:t}),this.emitDecorationChanges(n.type,n),n.screenRange=o}let r=t.oldTailScreenPosition,a=t.oldHeadScreenPosition,l=t.newTailScreenPosition,d=t.newHeadScreenPosition;r.row>a.row&&([r,a]=[a,r]),l.row>d.row&&([l,d]=[d,l]);const c=((e,t,i,n)=>{const s=[];return e.isLessThan(i)?s.push([e,i]):i.isLessThan(e)&&s.push([i,e]),t.isLessThan(n)?s.push([t,n]):n.isLessThan(t)&&s.push([n,t]),s})(r,a,l,d);for(let e=0,t=c.length;t>e;e++){const[t,i]=c[e];this.emitRangeChanges(n,{start:t,end:i},0)}})));const r=new d.default(e,this,t);return this.decorationsByMarkerId.has(i)||this.decorationsByMarkerId.set(i,[]),this.decorationsByMarkerId.get(i).push(r),this.decorationsById.set(r.id,r),this.decorationUpdatedSubscriptions.has(r.id)||this.decorationUpdatedSubscriptions.set(r.id,r.onDidChangeProperties((e=>{this.emitDecorationChanges(n,r)}))),this.decorationDestroyedSubscriptions.set(r.id,r.onDidDestroy((()=>{this.removeDecoration(r)}))),this.emitDecorationChanges(n,r),this.emitter.emit("did-add-decoration",{marker:e,decoration:r}),r}emitDecorationChanges(e,t){if(this.destroyed||this.minimap.editorDestroyed())return;this.invalidateDecorationForScreenRowsCache();const i=t.screenRange;i.start&&i.end&&this.emitRangeChanges(e,i,0)}emitRangeChanges(e,t,i){const n=t.start.row,s=t.end.row,o=this.minimap.getLastVisibleScreenRow(),r=this.minimap.getFirstVisibleScreenRow();null==i&&(i=o-r-(s-n)),this.emitter.emit("did-change-decoration-range",{start:n,end:s,screenDelta:i,type:e})}removeDecoration(e){if(null==e)return;const t=e.marker;let i;this.decorationsById.delete(e.id),i=this.decorationUpdatedSubscriptions.get(e.id),void 0!==i&&i.dispose(),i=this.decorationDestroyedSubscriptions.get(e.id),void 0!==i&&i.dispose(),this.decorationUpdatedSubscriptions.delete(e.id),this.decorationDestroyedSubscriptions.delete(e.id);const n=this.decorationsByMarkerId.get(t.id);if(void 0===n)return;this.emitDecorationChanges(e.getProperties().type,e);const s=n.indexOf(e);s>-1&&(n.splice(s,1),this.emitter.emit("did-remove-decoration",{marker:t,decoration:e}),0===n.length&&this.removedAllMarkerDecorations(t))}removeAllDecorationsForMarker(e){if(null==e)return;const t=this.decorationsByMarkerId.get(e.id);if(void 0!==t){for(let i=0,n=t.length;n>i;i++){const n=t[i];this.destroyed||this.minimap.editorDestroyed()||this.emitDecorationChanges(n.getProperties().type,n),this.emitter.emit("did-remove-decoration",{marker:e,decoration:n})}this.removedAllMarkerDecorations(e)}}removedAllMarkerDecorations(e){null!=e&&(this.decorationMarkerChangedSubscriptions.get(e.id).dispose(),this.decorationMarkerDestroyedSubscriptions.get(e.id).dispose(),this.decorationsByMarkerId.delete(e.id),this.decorationMarkerChangedSubscriptions.delete(e.id),this.decorationMarkerDestroyedSubscriptions.delete(e.id))}removeAllDecorations(){const e=this.decorationMarkerChangedSubscriptions.values();for(const t of e)t.dispose();const t=this.decorationMarkerDestroyedSubscriptions.values();for(const e of t)e.dispose();const i=this.decorationUpdatedSubscriptions.values();for(const e of i)e.dispose();const n=this.decorationDestroyedSubscriptions.values();for(const e of n)e.dispose();const s=this.decorationsById.values();for(const e of s)e.destroy();this.decorationsById.clear(),this.decorationsByMarkerId.clear(),this.decorationMarkerChangedSubscriptions.clear(),this.decorationMarkerDestroyedSubscriptions.clear(),this.decorationUpdatedSubscriptions.clear(),this.decorationDestroyedSubscriptions.clear()}destroy(){this.removeAllDecorations(),this.minimap=void 0,this.emitter=void 0,this.destroyed=!0}}},{"./deps/underscore-plus":"fHACO","./decoration":"3VRaj","@parcel/transformer-js/src/esmodule-helpers.js":"f4OPK"}],fHACO:[(e,t,i)=>{function n(e){return e?e.replace(/[$()*+./?[\\\]^{|}-]/g,"\\$&"):""}function s(e){return e?(e=`${e[0].toLowerCase()}${e.slice(1)}`).replace(/([A-Z])|(_)/g,((e,t)=>t?"-"+t.toLowerCase():"-")):""}function o(e,t){let i;return(...n)=>{void 0!==i&&clearTimeout(i),i=setTimeout((()=>{e(...n)}),t)}}var r=e("@parcel/transformer-js/src/esmodule-helpers.js");r.defineInteropFlag(i),r.export(i,"escapeRegExp",(()=>n)),r.export(i,"dasherize",(()=>s)),r.export(i,"debounce",(()=>o))},{"@parcel/transformer-js/src/esmodule-helpers.js":"f4OPK"}],f4OPK:[(e,t,i)=>{i.interopDefault=e=>e&&e.__esModule?e:{default:e},i.defineInteropFlag=e=>{Object.defineProperty(e,"__esModule",{value:!0})},i.exportAll=(e,t)=>(Object.keys(e).forEach((i=>{"default"!==i&&"__esModule"!==i&&(i in t&&t[i]===e[i]||Object.defineProperty(t,i,{enumerable:!0,get(){return e[i]}}))})),t),i.export=(e,t,i)=>{Object.defineProperty(e,t,{enumerable:!0,get:i})}},{}],"3VRaj":[function(e,t,i){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(i);var n=e("atom");let s=0;class o{static isType(e,t){return Array.isArray(e.type)?e.type.indexOf(t)>=0:t===e.type}constructor(e,t,i){this.marker=e,this.minimap=t,this.emitter=new n.Emitter,this.id=s++,this.properties=null,this.setProperties(i),this.properties.id=this.id,this.destroyed=!1,this.markerDestroyDisposable=this.marker.onDidDestroy((()=>{this.destroy()})),this.screenRange=e.getScreenRange()}destroy(){var e,t;this.destroyed||(null===(e=this.markerDestroyDisposable)||void 0===e||null===(t=e.dispose)||void 0===t||t.call(e),this.destroyed=!0,this.emitter.emit("did-destroy"),this.emitter.dispose())}isDestroyed(){return this.destroyed}onDidChangeProperties(e){if(!this.destroyed)return this.emitter.on("did-change-properties",e)}onDidDestroy(e){if(!this.destroyed)return this.emitter.on("did-destroy",e)}getId(){return this.id}getMarker(){return this.marker}isType(e){return o.isType(this.properties,e)}getProperties(){return this.properties}setProperties(e){if(this.destroyed)return;const t=this.properties;this.properties=e,this.properties.id=this.id,this.emitter.emit("did-change-properties",{oldProperties:t,newProperties:e})}}i.default=o},{"@parcel/transformer-js/src/esmodule-helpers.js":"f4OPK"}],"6jfaY":[function(e,t,i){function n(e,t,i,n,s,o,r,a){if(e.fillStyle=i,a){const i=t.length*o;return e.fillRect(n,s,i,r),n+i}{let i=0;for(let a=0,l=t.length;l>a;a++)" "===t[a]?(i>0&&e.fillRect(n-i*o,s,i*o,r),i=0):i++,n+=o;return i>0&&e.fillRect(n-i*o,s,i*o,r),n}}function s(e,t,i,s,o,r,a,l,d,c,h,u,p,m){if(e>t)return;let g,f,v=i*s-s;t=Math.min(t,c);for(let i=e;t>i;i++){const e=d.tokensForScreenRow(i),t=Math.min(e.length,m);for(let d=0;t>d;d++){const t=e[d],c=t.text.replace(h," "),m=t.scopes;g!==i&&(f=0,v+=s,g=i,l.clearRect(f,v,a,s)),f>a||(w.test(c)?f+=c.length*r:f=n(l,c,u(m),f,v,r,o,p))}}l.fill()}function o(e,t,i){const{context:n,lineHeight:s,charWidth:o,canvasWidth:r,screenRow:a,yRow:l}=t,d=e.getMarker().getScreenRange(),c=d.end.row-d.start.row;if(n.fillStyle=i,0===c)n.fillRect(d.start.column*o,l,(d.end.column-d.start.column)*o,s);else if(a===d.start.row){const e=d.start.column*o;n.fillRect(e,l,r-e,s)}else n.fillRect(0,l,a===d.end.row?d.end.column*o:r,s)}function r(e,t,i,n,s){let o=[];i.context.clearRect(0,i.yRow,i.canvasWidth,i.lineHeight);for(const i in n)o=o.concat(null!=t[i]&&t[i][e]||[]);if(o.sort(((e,t)=>(i.orders[e.properties.plugin]||0)-(i.orders[t.properties.plugin]||0))),null!=o?o.length:void 0)for(let e=0,t=o.length;t>e;e++){const t=o[e],r=n[t.properties.type];S?(void 0)[r.name.split("$").pop().replace("Lambda","")](t,i,h(t,s)):r(t,i,h(t,s))}}function a(e,t,i,n,s,o,a){if(t>=e){for(let l=e;t>=l;l++)n.row=i+(l-e),n.yRow=n.row*s,n.screenRow=l,r(l,a,n,E,o);n.context.fill()}}function l(e,t,i,n,s,o,a){if(t>=e){for(let l=e;t>=l;l++)n.row=i+(l-e),n.yRow=n.row*s,n.screenRow=l,r(l,a,n,x,o);n.context.fill()}}function d(e,t){return c(v.styleReader.retrieveStyleFromDom([".editor"],"color",e,!0),t)}function c(e,t){return`rgba(${e.slice(4,-1)}, ${t})`}function h(e,t){const i=e.getProperties();if(i.color)return i.color;if(i.scope){const e=i.scope.split(/\s+/);return v.styleReader.retrieveStyleFromDom(e,"background-color",t,!0)}return d(t)}function u(e,t,i,n,s){if(null==n&&null==s)return[];let o=[{start:n,end:s,offscreenRow:0}];for(let e=0,t=i.length;t>e;e++){const t=i[e],n=[];for(let e=0,i=o.length;i>e;e++){const i=o[e];i.start>t.end&&0!==t.screenDelta?n.push({start:i.start+t.screenDelta,end:i.end+t.screenDelta,offscreenRow:i.offscreenRow}):i.start>t.end||t.start>i.end?n.push(i):(t.start>i.start&&n.push({start:i.start,end:t.start-1,offscreenRow:i.offscreenRow}),i.end>t.end&&n.push(0!==t.bufferDelta||0!==t.screenDelta?{start:t.end+t.screenDelta+1,end:i.end+t.screenDelta,offscreenRow:i.offscreenRow+t.end+1-i.start}:{start:t.end+1,end:i.end,offscreenRow:i.offscreenRow+t.end+1-i.start}))}o=n}return((e,t,i)=>{let n=0;for(;e.length>n;){const s=e[n];t>s.start&&(s.offscreenRow+=t-s.start,s.start=t),s.end>i&&(s.end=i),s.end>s.start||e.splice(n--,1),n++}return e.sort(((e,t)=>e.offscreenRow-t.offscreenRow))})(o,e,t)}var p=e("@parcel/transformer-js/src/esmodule-helpers.js");p.defineInteropFlag(i);var m=e("../deps/underscore-plus"),g=e("mixto"),f=p.interopDefault(g),v=e("../main"),b=e("../canvas-layer"),y=p.interopDefault(b);const S=!1;i.default=class extends f.default{initializeCanvas(){this.tokensLayer=new y.default,this.backLayer=new y.default,this.frontLayer=new y.default,this.pendingChanges||(this.pendingChanges=[]),this.pendingBackDecorationChanges||(this.pendingBackDecorationChanges=[]),this.pendingFrontDecorationChanges||(this.pendingFrontDecorationChanges=[]),this.maxTokensInOneLine=atom.config.get("minimap.maxTokensInOneLine")}getFrontCanvas(){return this.frontLayer.canvas}attachCanvases(e){this.backLayer.attach(e),this.tokensLayer.attach(e),this.frontLayer.attach(e)}setCanvasesSize(e,t){this.backLayer.setSize(e,t),this.tokensLayer.setSize(e,t),this.frontLayer.setSize(e,t)}updateCanvas(){const e=this.minimap.getFirstVisibleScreenRow(),t=this.minimap.getLastVisibleScreenRow(),i=this.minimap.getDevicePixelRatio(),n=this.minimap.getLineHeight()*i,o=this.minimap.getCharHeight()*i,r=this.minimap.getCharWidth()*i,{width:h,height:p}=this.tokensLayer.getSize(),g=this.minimap.getTextEditor(),f=this.minimap.getTextEditorElement(),b=this.displayCodeHighlights?e=>((e,t,i)=>c(v.styleReader.retrieveStyleFromDom(e,"color",t,!0),i))(e,f,this.textOpacity):()=>d(f,this.textOpacity);((e,t,i,n,o,r,a,l,d,c,h,p,m,g,f,v)=>{const b=u(t,i,r,n,o),y=e.context;if(e.clearCanvas(),0===b.length)s(t,i,0,a,l,d,c,y,h,p,m,g,f,v);else{for(let i=0,n=b.length;n>i;i++){const n=b[i];e.copyPartFromOffscreen(n.offscreenRow*a,(n.start-t)*a,(n.end-n.start)*a)}let n=t;for(let e=0,i=b.length;i>e;e++){const i=b[e];s(n,i.start,n-t,a,l,d,c,y,h,p,m,g,f,v),n=i.end}n>i||s(n,i,n-t,a,l,d,c,y,h,p,m,g,f,v)}e.resetOffscreenSize(),e.copyToOffscreen()})(this.tokensLayer,e,t,this.offscreenFirstRow,this.offscreenLastRow,this.pendingChanges,n,o,r,h,g,g.getScreenLineCount(),(e=>{const t=e.getInvisibles(),i=[];return null!=t.cr&&i.push(t.cr),null!=t.eol&&i.push(t.eol),null!=t.space&&i.push(t.space),null!=t.tab&&i.push(t.tab),0!==i.length?RegExp(i.filter((e=>"string"==typeof e)).map(m.escapeRegExp).join("|"),"g"):null})(g),b,this.ignoreWhitespacesInTokens,this.maxTokensInOneLine);const y=this.DecorationManagement.decorationsByTypeThenRows(e,t),S={context:this.backLayer.context,canvasWidth:h,canvasHeight:p,lineHeight:n,charWidth:r,charHeight:o,orders:v.getPluginsOrder()},w=(e,t,i)=>((e,t,i,n)=>{const s=e.getProperties().render;s&&(t.color=i,s(e,t,n))})(e,t,i,f);x["background-custom"]=w,E["foreground-custom"]=w,((e,t,i,n,s,o,r,a,d,c)=>{const h=u(t,i,this.pendingBackDecorationChanges,this.offscreenFirstRow,this.offscreenLastRow);if(e.clearCanvas(),0===h.length)l(t,i,0,r,a,d,c);else{for(let i=0,n=h.length;n>i;i++){const n=h[i];e.copyPartFromOffscreen(n.offscreenRow*a,(n.start-t)*a,(n.end-n.start)*a)}let n=t;for(let e=0,i=h.length;i>e;e++){const i=h[e];l(n,i.start,n-t,r,a,d,c),n=i.end}n>i||l(n,i,n-t,r,a,d,c)}e.resetOffscreenSize(),e.copyToOffscreen()})(this.backLayer,e,t,0,0,0,S,n,f,y),S.context=this.frontLayer.context,((e,t,i,n,s,o,r,l,d,c)=>{const h=u(t,i,this.pendingFrontDecorationChanges,this.offscreenFirstRow,this.offscreenLastRow);if(e.clearCanvas(),0===h.length)a(t,i,0,r,l,d,c);else{for(let i=0,n=h.length;n>i;i++){const n=h[i];e.copyPartFromOffscreen(n.offscreenRow*l,(n.start-t)*l,(n.end-n.start)*l)}let n=t;for(let e=0,i=h.length;i>e;e++){const i=h[e];a(n,i.start,n-t,r,l,d,c),n=i.end}n>i||a(n,i,n-t,r,l,d,c)}e.resetOffscreenSize(),e.copyToOffscreen()})(this.frontLayer,e,t,0,0,0,S,n,f,y),this.pendingChanges=[],this.pendingBackDecorationChanges=[],this.pendingFrontDecorationChanges=[],this.offscreenFirstRow=e,this.offscreenLastRow=t}};const w=/^\s+$/,x={line(e,t,i){const{context:n,lineHeight:s,canvasWidth:o,yRow:r}=t;n.fillStyle=i,n.fillRect(0,r,o,s)},"highlight-under":o},E={gutter(e,t,i){const{context:n,lineHeight:s,yRow:o}=t;n.fillStyle=i,n.fillRect(0,o,1,s)},"highlight-over":o,"highlight-outline"(e,t,i){const{context:n,lineHeight:s,charWidth:o,canvasWidth:r,screenRow:a,yRow:l}=t;let d,c,h,u,p,m;const g=e.getMarker().getScreenRange(),f=g.end.row-g.start.row,v=l,b=v+s;n.fillStyle=i,0===f?(c=g.end.column-g.start.column,h=c*o,m=g.start.column*o,p=m+h,n.fillRect(m,v,h,1),n.fillRect(m,b-1,h,1),n.fillRect(m,v,1,s),n.fillRect(p,v,1,s)):1===f?(m=g.start.column*o,p=g.end.column*o,a===g.start.row?(h=r-m,u=Math.max(m,p),d=r-u,n.fillRect(m,v,h,1),n.fillRect(u,b-1,d,1),n.fillRect(m,v,1,s),n.fillRect(r-1,v,1,s)):(h=r-m,d=r-p,n.fillRect(0,v,m,1),n.fillRect(0,b-1,p,1),n.fillRect(0,v,1,s),n.fillRect(p,v,1,s))):(m=g.start.column*o,p=g.end.column*o,a===g.start.row?(h=r-m,n.fillRect(m,v,h,1),n.fillRect(m,v,1,s),n.fillRect(r-1,v,1,s)):a===g.end.row?(h=r-m,n.fillRect(0,b-1,p,1),n.fillRect(0,v,1,s),n.fillRect(p,v,1,s)):(n.fillRect(0,v,1,s),n.fillRect(r-1,v,1,s),a===g.start.row+1&&n.fillRect(0,v,m,1),a===g.end.row-1&&n.fillRect(p,b-1,r-p,1)))}}},{"../deps/underscore-plus":"fHACO",mixto:"bSA4e","../main":"lUIf1","../canvas-layer":"avJpS","@parcel/transformer-js/src/esmodule-helpers.js":"f4OPK"}],avJpS:[function(e,t,i){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(i),i.default=class{constructor(){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d",{desynchronized:!1}),this.canvas.webkitImageSmoothingEnabled=!1,this.context.imageSmoothingEnabled=!1,this.offscreenCanvas=document.createElement("canvas"),this.offscreenContext=this.offscreenCanvas.getContext("2d",{desynchronized:!1}),this.offscreenCanvas.webkitImageSmoothingEnabled=!1,this.offscreenContext.imageSmoothingEnabled=!1}attach(e){this.canvas.parentNode||e.appendChild(this.canvas)}setSize(e=0,t=0){this.canvas.width=e,this.canvas.height=t,this.context.imageSmoothingEnabled=!1,this.resetOffscreenSize()}getSize(){return{width:this.canvas.width,height:this.canvas.height}}resetOffscreenSize(){this.offscreenCanvas.width=this.canvas.width,this.offscreenCanvas.height=this.canvas.height,this.offscreenContext.imageSmoothingEnabled=!1}copyToOffscreen(){this.canvas.width>0&&this.canvas.height>0&&this.offscreenContext.drawImage(this.canvas,0,0)}copyFromOffscreen(){this.offscreenCanvas.width>0&&this.offscreenCanvas.height>0&&this.context.drawImage(this.offscreenCanvas,0,0)}copyPartFromOffscreen(e,t,i){this.offscreenCanvas.width>0&&this.offscreenCanvas.height>0&&this.context.drawImage(this.offscreenCanvas,0,e,this.offscreenCanvas.width,i,0,t,this.offscreenCanvas.width,i)}clearCanvas(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"f4OPK"}],"73QcF":[(e,t,i)=>{e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(i),i.default=(e,...t)=>{t.forEach((t=>{var i,n;i=e,Object.getOwnPropertyNames(n=t).forEach((e=>{0>["length","name","arguments","caller","prototype","includeInto"].indexOf(e)&&Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(n,e))})),Object.getOwnPropertyNames(n.prototype).forEach((e=>{"constructor"!==e&&Object.defineProperty(i.prototype,e,Object.getOwnPropertyDescriptor(n.prototype,e))}))}))}},{"@parcel/transformer-js/src/esmodule-helpers.js":"f4OPK"}],dpbCf:[(e,t,i)=>{e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(i);var n=e("atom-utils-plus");i.default=(e,t)=>n.registerOrUpdateElement(t,{class:e})},{"atom-utils-plus":"hU6px","@parcel/transformer-js/src/esmodule-helpers.js":"f4OPK"}],"6CRRj":[function(e,t,i){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(i);var s=e("atom"),o=e("atom-utils-plus"),r=e("./main"),a=e("./decorators/element"),l=n.interopDefault(a),d=e("./decorators/include"),c=n.interopDefault(d);const h=class{static initClass(){return c.default(this,o.EventsDelegation,o.SpacePenDSL.Babel),l.default(this,"minimap-quick-settings")}static content(){this.div({class:"select-list popover-list minimap-quick-settings"},(()=>{this.input({type:"text",class:"hidden-input",outlet:"hiddenInput"}),this.ol({class:"list-group mark-active",outlet:"list"},(()=>{this.li({class:"separator",outlet:"separator"}),this.li({class:"code-highlights",outlet:"codeHighlights"},"code-highlights"),this.li({class:"absolute-mode",outlet:"absoluteMode"},"absolute-mode"),this.li({class:"adjust-absolute-mode-height",outlet:"adjustAbsoluteModeHeight"},"adjust-absolute-mode-height")})),this.div({class:"btn-group"},(()=>{this.button({class:"btn btn-default",outlet:"onLeftButton"},"On Left"),this.button({class:"btn btn-default",outlet:"onRightButton"},"On Right")}))}))}createdCallback(){this.buildContent()}setModel(e){this.selectedItem=null,this.minimap=e,this.emitter=new s.Emitter,this.subscriptions=new s.CompositeDisposable,this.plugins={},this.itemsActions=new WeakMap,this.codeHighlights.classList.toggle("active",this.minimap.displayCodeHighlights),this.itemsActions.set(this.codeHighlights,(()=>{atom.config.set("minimap.displayCodeHighlights",!this.minimap.displayCodeHighlights)})),this.itemsActions.set(this.absoluteMode,(()=>{atom.config.set("minimap.absoluteMode",!atom.config.get("minimap.absoluteMode"))})),this.itemsActions.set(this.adjustAbsoluteModeHeight,(()=>{atom.config.set("minimap.adjustAbsoluteModeHeight",!atom.config.get("minimap.adjustAbsoluteModeHeight"))})),this.subscriptions.add(r.onDidAddPlugin((({name:e,plugin:t})=>this.addItemFor(e,t))),r.onDidRemovePlugin((({name:e,plugin:t})=>this.removeItemFor(e,t))),r.onDidActivatePlugin((({name:e,plugin:t})=>this.activateItem(e,t))),r.onDidDeactivatePlugin((({name:e,plugin:t})=>this.deactivateItem(e,t))),atom.commands.add("minimap-quick-settings",{"core:move-up":()=>{this.selectPreviousItem()},"core:move-down":()=>{this.selectNextItem()},"core:move-left"(){atom.config.set("minimap.displayMinimapOnLeft",!0)},"core:move-right"(){atom.config.set("minimap.displayMinimapOnLeft",!1)},"core:cancel":()=>{this.destroy()},"core:confirm":()=>{this.toggleSelectedItem()}}),this.subscribeTo(this.codeHighlights,{mousedown:e=>{e.preventDefault(),atom.config.set("minimap.displayCodeHighlights",!this.minimap.displayCodeHighlights)}}),this.subscribeTo(this.absoluteMode,{mousedown(e){e.preventDefault(),atom.config.set("minimap.absoluteMode",!atom.config.get("minimap.absoluteMode"))}}),this.subscribeTo(this.adjustAbsoluteModeHeight,{mousedown(e){e.preventDefault(),atom.config.set("minimap.adjustAbsoluteModeHeight",!atom.config.get("minimap.adjustAbsoluteModeHeight"))}}),this.subscribeTo(this.hiddenInput,{focusout:e=>{this.destroy()}},{passive:!0}),this.subscribeTo(this.onLeftButton,{mousedown(e){e.preventDefault(),atom.config.set("minimap.displayMinimapOnLeft",!0)}}),this.subscribeTo(this.onRightButton,{mousedown(e){e.preventDefault(),atom.config.set("minimap.displayMinimapOnLeft",!1)}}),atom.config.observe("minimap.displayCodeHighlights",(e=>{this.codeHighlights.classList.toggle("active",e)})),atom.config.observe("minimap.absoluteMode",(e=>{this.absoluteMode.classList.toggle("active",e)})),atom.config.observe("minimap.adjustAbsoluteModeHeight",(e=>{this.adjustAbsoluteModeHeight.classList.toggle("active",e)})),atom.config.observe("minimap.displayMinimapOnLeft",(e=>{this.onLeftButton.classList.toggle("selected",e),this.onRightButton.classList.toggle("selected",!e)}))),this.initList()}onDidDestroy(e){return this.emitter.on("did-destroy",e)}attach(){atom.views.getView(atom.workspace).appendChild(this),this.hiddenInput.focus()}destroy(){this.emitter.emit("did-destroy"),this.subscriptions.dispose(),this.parentNode.removeChild(this)}initList(){this.itemsDisposables=new WeakMap;for(const e in r.plugins)this.addItemFor(e,r.plugins[e])}toggleSelectedItem(){const e=this.itemsActions.get(this.selectedItem);"function"==typeof e&&e()}selectNextItem(){this.selectedItem.classList.remove("selected"),null!=this.selectedItem.nextSibling?(this.selectedItem=this.selectedItem.nextSibling,this.selectedItem.matches(".separator")&&(this.selectedItem=this.selectedItem.nextSibling)):this.selectedItem=this.list.firstChild,this.selectedItem.classList.add("selected")}selectPreviousItem(){this.selectedItem.classList.remove("selected"),null!=this.selectedItem.previousSibling?(this.selectedItem=this.selectedItem.previousSibling,this.selectedItem.matches(".separator")&&(this.selectedItem=this.selectedItem.previousSibling)):this.selectedItem=this.list.lastChild,this.selectedItem.classList.add("selected")}addItemFor(e,t){const i=document.createElement("li"),n=()=>{r.togglePluginActivation(e)};t.isActive()&&i.classList.add("active"),i.textContent=e,this.itemsActions.set(i,n),this.itemsDisposables.set(i,this.addDisposableEventListener(i,"mousedown",(e=>{e.preventDefault(),n()}))),this.plugins[e]=i,this.list.insertBefore(i,this.separator),null==this.selectedItem&&(this.selectedItem=i,this.selectedItem.classList.add("selected"))}removeItemFor(e,t){try{this.list.removeChild(this.plugins[e])}catch(e){}delete this.plugins[e]}activateItem(e,t){this.plugins[e].classList.add("active")}deactivateItem(e,t){this.plugins[e].classList.remove("active")}}.initClass();i.default=h},{"atom-utils-plus":"hU6px","./main":"lUIf1","./decorators/element":"dpbCf","./decorators/include":"73QcF","@parcel/transformer-js/src/esmodule-helpers.js":"f4OPK"}],hTPeT:[function(e,t,i){var n=e("@parcel/transformer-js/src/esmodule-helpers.js");n.defineInteropFlag(i);var s=e("atom"),o=e("./decoration"),r=n.interopDefault(o),a=e("./adapters/stable-adapter"),l=n.interopDefault(a),d=e("./main");let c=1;const h=new s.Disposable;h.dispose();const u=new r.default({onDidDestroy(){return h},getScreenRange(){return new Range}},null,{});i.default=class{constructor(e={}){if(!e.textEditor)throw Error("Cannot create a minimap without an editor");this.minimapElement=void 0,this.DecorationManagement=void 0,this.textEditor=e.textEditor,this.editorElement=void 0,this.standAlone=e.standAlone,this.width=e.width,this.height=e.height,this.id=c++,this.emitter=new s.Emitter,this.subscriptions=new s.CompositeDisposable,this.adapter=null,this.charHeight=null,this.configCharHeight=null,this.charWidth=null,this.configCharWidth=null,this.interline=null,this.configInterline=null,this.devicePixelRatioRounding=null,this.configDevicePixelRatioRounding=null,this.redrawDelay=0,this.destroyed=!1,this.scrollPastEnd=!1,this.pendingChangeEvents=[],this.flushChangesTimer=null,null!=atom.views.getView(this.textEditor).getScrollTop&&(this.adapter=new l.default(this.textEditor)),this.scrollTop=0;let t=this.subscribeToConfig();this.subscriptions.add(t,this.textEditor.onDidChangeGrammar((()=>{this.subscriptions.remove(t),t.dispose(),t=this.subscribeToConfig(),this.subscriptions.add(t)})),this.adapter.onDidChangeScrollTop((()=>{this.standAlone||this.ignoreTextEditorScroll||this.inChangeScrollTop||(this.inChangeScrollTop=!0,this.updateScrollTop(),this.emitter.emit("did-change-scroll-top",this),this.inChangeScrollTop=!1),this.ignoreTextEditorScroll&&(this.ignoreTextEditorScroll=!1)})),this.adapter.onDidChangeScrollLeft((()=>{this.standAlone||this.emitter.emit("did-change-scroll-left",this)})),this.textEditor.onDidChange((e=>{this.scheduleChanges(e)})),this.textEditor.onDidDestroy((()=>{d.editorsMinimaps&&d.editorsMinimaps.delete(this.textEditor),this.destroy()})),this.textEditor.onDidTokenize((()=>{this.emitter.emit("did-change-config")})))}destroy(){this.destroyed||(clearTimeout(this.flushChangesTimer),this.pendingChangeEvents=[],this.subscriptions.dispose(),this.emitter.emit("did-destroy"),this.emitter.dispose(),this.destroyed=!0)}isDestroyed(){return this.destroyed}scheduleChanges(e){this.pendingChangeEvents=this.pendingChangeEvents.concat(e),this.redrawDelay||this.requestFlushChanges(),this.flushChangesTimer||(this.flushChangesTimer=setTimeout((()=>{this.requestFlushChanges()}),this.redrawDelay))}flushChanges(){clearTimeout(this.flushChangesTimer),this.flushChangesTimer=null,this.emitChanges(this.pendingChangeEvents),this.pendingChangeEvents=[]}requestFlushChanges(){this.requestedFlushChanges||(this.requestedFlushChanges=requestAnimationFrame((()=>{this.flushChanges(),this.requestedFlushChanges&&(cancelAnimationFrame(this.requestedFlushChanges),this.requestedFlushChanges=null)})))}onDidChange(e){return this.emitter.on("did-change",e)}onDidChangeConfig(e){return this.emitter.on("did-change-config",e)}onDidChangeScrollTop(e){return this.emitter.on("did-change-scroll-top",e)}onDidChangeScrollLeft(e){return this.emitter.on("did-change-scroll-left",e)}onDidChangeStandAlone(e){return this.emitter.on("did-change-stand-alone",e)}onDidDestroy(e){return this.emitter.on("did-destroy",e)}subscribeToConfig(){const e=new s.CompositeDisposable,t={scope:this.textEditor.getRootScopeDescriptor()};return e.add(atom.config.observe("editor.scrollPastEnd",t,(e=>{this.scrollPastEnd=e,this.adapter.scrollPastEnd=this.scrollPastEnd,this.emitter.emit("did-change-config")})),atom.config.observe("minimap.charHeight",t,(e=>{this.configCharHeight=e,this.updateScrollTop(),this.emitter.emit("did-change-config")})),atom.config.observe("minimap.charWidth",t,(e=>{this.configCharWidth=e,this.updateScrollTop(),this.emitter.emit("did-change-config")})),atom.config.observe("minimap.interline",t,(e=>{this.configInterline=e,this.updateScrollTop(),this.emitter.emit("did-change-config")})),atom.config.observe("minimap.independentMinimapScroll",t,(e=>{this.independentMinimapScroll=e,this.updateScrollTop()})),atom.config.observe("minimap.scrollSensitivity",t,(e=>{this.scrollSensitivity=e})),atom.config.observe("minimap.redrawDelay",t,(e=>{this.redrawDelay=e})),atom.config.observe("minimap.devicePixelRatioRounding",t,(e=>{this.configDevicePixelRatioRounding=e,this.updateScrollTop(),this.emitter.emit("did-change-config")}))),e}isStandAlone(){return this.standAlone}setStandAlone(e){e!==this.standAlone&&(this.standAlone=e,this.emitter.emit("did-change-stand-alone",this))}getMinimapElement(){return this.minimapElement}getTextEditor(){return this.textEditor}getTextEditorElement(){return this.editorElement||(this.editorElement=atom.views.getView(this.getTextEditor())),this.editorElement}getTextEditorScaledHeight(){return this.adapter.getHeight()*this.getVerticalScaleFactor()}getTextEditorScaledScrollTop(){return this.adapter.getScrollTop()*this.getVerticalScaleFactor()}getTextEditorScaledScrollLeft(){return this.adapter.getScrollLeft()*this.getHorizontalScaleFactor()}getTextEditorMaxScrollTop(){return this.adapter.getMaxScrollTop()}getTextEditorScrollTop(){return this.adapter.getScrollTop()}setTextEditorScrollTop(e,t=!1){this.ignoreTextEditorScroll=t,this.adapter.setScrollTop(e)}getTextEditorScrollLeft(){return this.adapter.getScrollLeft()}getTextEditorHeight(){return this.adapter.getHeight()}getTextEditorScrollRatio(){return this.adapter.getScrollTop()/(this.getTextEditorMaxScrollTop()||1)}getCapedTextEditorScrollRatio(){return Math.min(1,this.getTextEditorScrollRatio())}getHeight(){return this.textEditor.getScreenLineCount()*this.getLineHeight()}getWidth(){return this.textEditor.getMaxScreenLineLength()*this.getCharWidth()}getVisibleHeight(){return Math.min(this.getScreenHeight(),this.getHeight())}getScreenHeight(){return this.isStandAlone()?null!=this.height?this.height:this.getHeight():this.adapter.getHeight()}getVisibleWidth(){return Math.min(this.getScreenWidth(),this.getWidth())}getScreenWidth(){return this.isStandAlone()&&null!=this.width?this.width:this.getWidth()}setScreenHeightAndWidth(e,t){this.width===t&&this.height===e||(this.height=e,this.width=t,this.updateScrollTop())}getVerticalScaleFactor(){return this.getLineHeight()/this.textEditor.getLineHeightInPixels()}getHorizontalScaleFactor(){return this.getCharWidth()/this.textEditor.getDefaultCharWidth()}getLineHeight(){return this.getCharHeight()+this.getInterline()}getCharWidth(){return null!=this.charWidth?this.charWidth:this.configCharWidth}setCharWidth(e){this.charWidth=Math.floor(e),this.emitter.emit("did-change-config")}getCharHeight(){return null!=this.charHeight?this.charHeight:this.configCharHeight}setCharHeight(e){this.charHeight=Math.floor(e),this.emitter.emit("did-change-config")}getInterline(){return null!=this.interline?this.interline:this.configInterline}setInterline(e){this.interline=Math.floor(e),this.emitter.emit("did-change-config")}getDevicePixelRatioRounding(){return null!=this.devicePixelRatioRounding?this.devicePixelRatioRounding:this.configDevicePixelRatioRounding}setDevicePixelRatioRounding(e){this.devicePixelRatioRounding=e,this.emitter.emit("did-change-config")}getDevicePixelRatio(){return this.getDevicePixelRatioRounding()?1>devicePixelRatio?Math.max(Math.round(10*devicePixelRatio)/10,.1):Math.round(devicePixelRatio):devicePixelRatio}getFirstVisibleScreenRow(){return Math.floor(this.getScrollTop()/this.getLineHeight())}getLastVisibleScreenRow(){return Math.ceil((this.getScrollTop()+this.getScreenHeight())/this.getLineHeight())}scrollIndependentlyOnMouseWheel(){return this.independentMinimapScroll}getScrollTop(){return this.standAlone||this.independentMinimapScroll?this.scrollTop:this.getScrollTopFromEditor()}setScrollTop(e){this.scrollTop=Math.max(0,Math.min(this.getMaxScrollTop(),e)),(this.standAlone||this.independentMinimapScroll)&&this.emitter.emit("did-change-scroll-top",this)}getScrollRatio(){return this.getScrollTop()/this.getMaxScrollTop()}updateScrollTop(){if(this.independentMinimapScroll){try{this.setScrollTop(this.getScrollTopFromEditor())}catch(e){}this.emitter.emit("did-change-scroll-top",this)}}getScrollTopFromEditor(){return Math.abs(this.getCapedTextEditorScrollRatio()*this.getMaxScrollTop())}getMaxScrollTop(){return Math.max(0,this.getHeight()-this.getScreenHeight())}canScroll(){return this.getMaxScrollTop()>0}onMouseWheel(e){if(this.scrollIndependentlyOnMouseWheel()){if(e.stopPropagation(),!this.canScroll())return;const{wheelDeltaY:t}=e,i=this.getScrollTop();this.setScrollTop(i-Math.round(t*this.scrollSensitivity))}}getMarker(e){return this.textEditor.getMarker(e)}findMarkers(e){try{return this.textEditor.findMarkers(e)}catch(e){return[]}}markBufferRange(e){return this.textEditor.markBufferRange(e)}emitChanges(e){this.emitter.emit("did-change",e)}enableCache(){this.adapter.enableCache()}clearCache(){this.adapter.clearCache()}editorDestroyed(){this.adapter.editorDestroyed()}getDecorationManagement(){var e;return this.DecorationManagement||(null===(e=this.minimapElement)||void 0===e?void 0:e.DecorationManagement)&&(this.DecorationManagement=this.minimapElement.DecorationManagement),this.DecorationManagement}getDecorations(){var e,t;return null!==(t=null===(e=this.getDecorationManagement())||void 0===e?void 0:e.getDecorations())&&void 0!==t?t:[]}onDidAddDecoration(...e){var t,i;return null!==(i=null===(t=this.getDecorationManagement())||void 0===t?void 0:t.onDidAddDecoration(...e))&&void 0!==i?i:h}onDidRemoveDecoration(...e){var t,i;return null!==(i=null===(t=this.getDecorationManagement())||void 0===t?void 0:t.onDidRemoveDecoration(...e))&&void 0!==i?i:h}onDidChangeDecorationRange(...e){var t,i;return null!==(i=null===(t=this.getDecorationManagement())||void 0===t?void 0:t.onDidChangeDecorationRange(...e))&&void 0!==i?i:h}onDidUpdateDecoration(...e){var t,i;return null!==(i=null===(t=this.getDecorationManagement())||void 0===t?void 0:t.onDidUpdateDecoration(...e))&&void 0!==i?i:h}decorationForId(...e){var t,i;return null!==(i=null===(t=this.getDecorationManagement())||void 0===t?void 0:t.decorationForId(...e))&&void 0!==i?i:u}decorationsForScreenRowRange(...e){var t,i;return null!==(i=null===(t=this.getDecorationManagement())||void 0===t?void 0:t.decorationsForScreenRowRange(...e))&&void 0!==i?i:u}decorationsByTypeThenRows(){var e,t;return null!==(t=null===(e=this.getDecorationManagement())||void 0===e?void 0:e.decorationsByTypeThenRows())&&void 0!==t?t:u}decorateMarker(...e){var t,i;return null!==(i=null===(t=this.getDecorationManagement())||void 0===t?void 0:t.decorateMarker(...e))&&void 0!==i?i:u}removeDecoration(...e){var t;return null===(t=this.getDecorationManagement())||void 0===t?void 0:t.removeDecoration(...e)}removeAllDecorationsForMarker(...e){var t;return null===(t=this.getDecorationManagement())||void 0===t?void 0:t.removeAllDecorationsForMarker(...e)}removeAllDecorations(){var e;return null===(e=this.getDecorationManagement())||void 0===e?void 0:e.removeAllDecorations()}}},{"./decoration":"3VRaj","./adapters/stable-adapter":"kCVPI","./main":"lUIf1","@parcel/transformer-js/src/esmodule-helpers.js":"f4OPK"}],kCVPI:[function(e,t,i){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(i),i.default=class{constructor(e){this.textEditor=e,this.textEditorElement=atom.views.getView(this.textEditor)}enableCache(){this.useCache=!0}clearCache(){this.useCache=!1,delete this.heightCache,delete this.scrollTopCache,delete this.scrollLeftCache,delete this.maxScrollTopCache}onDidChangeScrollTop(e){return this.textEditorElement.onDidChangeScrollTop(e)}onDidChangeScrollLeft(e){return this.textEditorElement.onDidChangeScrollLeft(e)}getHeight(){return this.editorDestroyed()?0:this.useCache?(this.heightCache||(this.heightCache=this.textEditorElement.getHeight()),this.heightCache):this.textEditorElement.getHeight()}getScrollTop(){return this.editorDestroyed()?0:this.useCache?(this.scrollTopCache||(this.scrollTopCache=this.computeScrollTop()),this.scrollTopCache):this.computeScrollTop()}computeScrollTop(){if(this.editorDestroyed())return 0;const e=this.textEditorElement.getScrollTop(),t=this.textEditor.getLineHeightInPixels();let i=this.textEditorElement.getFirstVisibleScreenRow();if(Number.isNaN(i))return 0;let n=this.textEditorElement.pixelPositionForScreenPosition([i,0]).top;return n>e&&(i-=1,n=this.textEditorElement.pixelPositionForScreenPosition([i,0]).top),i*t+Math.min(e-n,t)}setScrollTop(e){this.editorDestroyed()||this.textEditorElement.setScrollTop(e)}getScrollLeft(){return this.editorDestroyed()?0:this.useCache?(this.scrollLeftCache||(this.scrollLeftCache=this.textEditorElement.getScrollLeft()),this.scrollLeftCache):this.textEditorElement.getScrollLeft()}getMaxScrollTop(){if(this.editorDestroyed())return 0;if(null!=this.maxScrollTopCache&&this.useCache)return this.maxScrollTopCache;let e;if(this.textEditorElement.getMaxScrollTop){if(e=this.textEditorElement.getMaxScrollTop(),parseFloat(atom.getVersion())>=1.13&&this.scrollPastEnd){const t=this.textEditor.getLineHeightInPixels();e-=this.getHeight()-3*t}}else if(e=this.textEditorElement.getScrollHeight()-this.getHeight(),this.scrollPastEnd){const t=this.textEditor.getLineHeightInPixels();e-=this.getHeight()-3*t}return this.useCache&&(this.maxScrollTopCache=e),e}editorDestroyed(){return!this.textEditor||this.textEditor.isDestroyed()||!this.textEditorElement.component||!this.textEditorElement.getModel()||!this.textEditorElement.parentNode}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"f4OPK"}],"7B8RM":[(e,t,i)=>{t.exports=JSON.parse('{"plugins":{"type":"object","properties":{}},"autoToggle":{"title":"Show Minimap On Atom Start","type":"boolean","default":true,"order":1},"displayMinimapOnLeft":{"type":"boolean","default":false,"order":2},"displayCodeHighlights":{"type":"boolean","default":true,"description":"Toggles the render of the buffer tokens in the minimap.","order":3},"displayPluginsControls":{"type":"boolean","default":true,"description":"You need to restart Atom for this setting to be effective.","order":4},"minimapScrollIndicator":{"type":"boolean","default":true,"description":"Toggles the display of a side line showing which part of the buffer is currently displayed by the minimap. This side line will only appear if the minimap is taller than the editor view height.","order":5},"adjustMinimapWidthToSoftWrap":{"type":"boolean","default":true,"description":"If this option is enabled and Soft Wrap is checked then the Minimap max width is set to the Preferred Line Length value.","order":6},"adjustMinimapWidthOnlyIfSmaller":{"type":"boolean","default":true,"description":"If this option and `adjustMinimapWidthToSoftWrap` are enabled the minimap width will never go past the limit sets by CSS. On the other hand, when disabled the minimap will expand to honor the preferred line width.","order":7},"ignoreWhitespacesInTokens":{"type":"boolean","default":false,"description":"When enabled, text editor tokens are rendered as plain blocks, with no regards to the whitespaces they contains.","order":8},"charWidth":{"type":"number","default":1,"minimum":0.5,"order":9},"charHeight":{"type":"number","default":2,"minimum":0.5,"order":10},"interline":{"type":"number","default":1,"minimum":0,"description":"The space between lines in the minimap in pixels.","order":11},"textOpacity":{"type":"number","default":0.6,"minimum":0,"maximum":1,"description":"The opacity used to render the line\'s text in the minimap.","order":12},"moveCursorOnMinimapClick":{"type":"boolean","default":false,"description":"Moves the cursor to the beginning of the target line when clicking on the minimap","order":13},"independentMinimapScroll":{"type":"boolean","title":"Independent Minimap Scroll On Mouse Wheel Events","default":false,"description":"When enabled, using the mouse wheel over the Minimap will make it scroll independently of the text editor. The Minimap will still sync with the editor whenever the editor is scrolled, but it will no longer relay the mouse wheel events to the editor.","order":14},"scrollSensitivity":{"type":"number","default":0.5,"description":"The scrolling speed when the `Independent Minimap Scroll On Mouse Wheel Events` setting is enabled.","order":15},"smoothScrolling":{"type":"boolean","default":false,"description":"Whether to offset the minimap canvas when scrolling to keep the scroll smooth. When `true` the minimap canvas will be offseted, resulting in a smoother scroll, but with the side-effect of a blurry minimap when the canvas is placed between pixels. When `false` the canvas will always stay at the same position, and will never look blurry, but the scroll will appear more jagged.","order":16},"createPluginInDevMode":{"type":"boolean","default":false,"order":17},"absoluteMode":{"type":"boolean","default":false,"description":"When enabled the text editor content will be able to flow below the minimap.","order":18},"adjustAbsoluteModeHeight":{"type":"boolean","default":false,"description":"When enabled and `Absolute Mode` is also enabled, the minimap height will be adjusted to only take the space required by the text editor content, leaving the space below triggering mouse events on the text editor. **Be aware this can have some impact on performances as the minimap canvases will be resized every time a change in the editor make its height change.**","order":19},"redrawDelay":{"type":"number","default":400,"minimum":0,"maximum":2000,"description":"Controls how often (in ms) the minimap should redraw itself after changing the text editor\'s contents. Setting this to 100ms or higher could dramatically improve editor responsiveness when working with large files. A value of 0 will cause the minimap to redraw itself immediately on each change.","order":20},"devicePixelRatioRounding":{"type":"boolean","default":true,"description":"Toggles the rounding of the devicePixelRatio in the minimap.","order":21},"useHardwareAcceleration":{"type":"boolean","default":true,"order":22},"scrollAnimation":{"type":"boolean","default":false,"description":"Enables animations when scrolling by clicking on the minimap.","order":23},"scrollAnimationDuration":{"type":"integer","default":300,"description":"The duration of scrolling animations when clicking on the minimap.","order":24},"maxTokensInOneLine":{"type":"integer","default":160,"description":"The maximum number of tokens that are rendered for each line.","order":25}}')},{}],fyvhj:[(e,t,i)=>{function n(e,t){g[e]=t,f[e]=new p.CompositeDisposable,m.emitter.emit("did-add-plugin",{name:e,plugin:t}),atom.config.get("minimap.displayPluginsControls")&&((e,t)=>{const i="minimap.plugins."+e,n=`minimap.plugins.${e}DecorationsZIndex`,s=m.getConfigSchema();s.plugins.properties[e]={type:"boolean",title:e,description:`Whether the ${e} plugin is activated and displayed in the Minimap.`,default:!0},s.plugins.properties[e+"DecorationsZIndex"]={type:"integer",title:e+" decorations order",description:`The relative order of the ${e} plugin's decorations in the layer into which they are drawn. Note that this order only apply inside a layer, so highlight-over decorations will always be displayed above line decorations as they are rendered in different layers.`,default:0},void 0===atom.config.get(i)&&atom.config.set(i,!0),void 0===atom.config.get(n)&&atom.config.set(n,0),f[e].add(atom.config.observe(i,(()=>{a(e)}))),f[e].add(atom.config.observe(n,(i=>{c(e),m.emitter.emit("did-change-plugin-order",{name:e,plugin:t,order:i})}))),f[e].add(atom.commands.add("atom-workspace",{["minimap:toggle-"+e](){o(e)}})),c(e)})(e,t),a(e)}function s(e){const t=g[e];atom.config.get("minimap.displayPluginsControls")&&(e=>{f[e].dispose(),delete f[e],delete m.getConfigSchema().plugins.properties[e]})(e),delete g[e],m.emitter.emit("did-remove-plugin",{name:e,plugin:t})}function o(e,t){const i="minimap.plugins."+e;null!=t?atom.config.set(i,t):atom.config.set(i,!atom.config.get(i)),a(e)}function r(){for(const[e,t]of function*(){for(const e in g)yield[e,g[e]]}())t.deactivatePlugin(),m.emitter.emit("did-deactivate-plugin",{name:e,plugin:t})}function a(e){const t=g[e],i=t.isActive(),n=atom.config.get("minimap.plugins."+e);atom.config.get("minimap.displayPluginsControls")?n&&!i?l(e,t):i&&!n&&d(e,t):i?i&&d(e,t):l(e,t)}function l(e,t){const i={name:e,plugin:t};t.activatePlugin(),m.emitter.emit("did-activate-plugin",i)}function d(e,t){const i={name:e,plugin:t};t.deactivatePlugin(),m.emitter.emit("did-deactivate-plugin",i)}function c(e){v[e]=atom.config.get(`minimap.plugins.${e}DecorationsZIndex`)}function h(){return v}var u=e("@parcel/transformer-js/src/esmodule-helpers.js");u.defineInteropFlag(i),u.export(i,"plugins",(()=>g)),u.export(i,"registerPlugin",(()=>n)),u.export(i,"unregisterPlugin",(()=>s)),u.export(i,"togglePluginActivation",(()=>o)),u.export(i,"deactivateAllPlugins",(()=>r)),u.export(i,"activatePlugin",(()=>l)),u.export(i,"deactivatePlugin",(()=>d)),u.export(i,"getPluginsOrder",(()=>h));var p=e("atom"),m=e("./main");const g={},f={},v={}},{"./main":"lUIf1","@parcel/transformer-js/src/esmodule-helpers.js":"f4OPK"}],lWj66:[(e,t,i)=>{function n(){return e="core.useTreeSitterParsers",atom.config.observe(e,(t=>{if(!0!==t){const t="Minimap."+e,i=new Date,n=window.localStorage.getItem(t);let s=null;if(n&&(s=new Date(Date.parse(n)).getDay()),!s||"number"==typeof s&&s-i.getDay()>=1){window.localStorage.setItem(t,i);const n=atom.notifications.addWarning("Tree-sitter is off (Low Performance Warning).",{description:"You should turn on Atom's tree-sitter parser to experience the best performance Minimap and Atom is deisgned for.\n    Keeping tree-sitter parser off results in sluggish scrolling and lags in the text editor.",dismissable:!0,buttons:[{text:"Set to true and restart Atom",onDidClick(){atom.config.set(e,!0),n.dismiss(),window.localStorage.removeItem(t),setTimeout((()=>{atom.reload()}),1500)}}]})}}}));var e}var s=e("@parcel/transformer-js/src/esmodule-helpers.js");s.defineInteropFlag(i),s.export(i,"treeSitterWarning",(()=>n))},{"@parcel/transformer-js/src/esmodule-helpers.js":"f4OPK"}],GRpO3:[function(e,t,i){"use strict";function n(e){return Math.ceil(Math.max(0,Math.min(255,e)))}Object.defineProperty(i,"__esModule",{value:!0}),i.StyleReader=void 0,i.StyleReader=class{constructor(){this.domStylesCache=new Map,this.dummyNode=void 0,this.targetNode=void 0}retrieveStyleFromDom(e,t,i,o=!0){if(0===e.length)return"";const r=e.join(" ");let a=this.domStylesCache.get(r);if(void 0!==a){if(o){const e=a[t];if(void 0!==e)return e}}else a={};this.ensureDummyNodeExistence(i);const l=this.dummyNode;let d=l;for(let t=0,i=e.length;i>t;t++){const i=e[t],n=document.createElement("span");n.className=i.replace(s," "),d.appendChild(n),d=n}const c=window.getComputedStyle(d);let h=c.getPropertyValue(t);const u=c.getPropertyValue("-webkit-filter");return u.includes("hue-rotate")&&(h=((e,t)=>{const i=e.match(/rgb(a?)\((\d+), (\d+), (\d+)(, (\d+(\.\d+)?))?\)/);if(null===i)return"";const[,,s,o,r,,a]=i,l=t.match(/hue-rotate\((-?\d+)deg\)/);if(null===l)return"";const[,d]=l;let[c,h,u,p,m]=[s,o,r,a,d].map(Number);return[c,h,u]=((e,t,i,s)=>{const o=[1,0,0,0,1,0,0,0,1],r=.2126,a=.7152,l=.0722,d=Math.cos(s*Math.PI/180),c=Math.sin(s*Math.PI/180);return o[0]=r+.7874*d-r*c,o[1]=a-a*d-a*c,o[2]=l-l*d+.9278*c,o[3]=r-r*d+.143*c,o[4]=a+(1-a)*d+.14*c,o[5]=l-l*d-.283*c,o[6]=r-r*d-.7874*c,o[7]=a-a*d+a*c,o[8]=l+.9278*d+l*c,[n(o[0]*e+o[1]*t+o[2]*i),n(o[3]*e+o[4]*t+o[5]*i),n(o[6]*e+o[7]*t+o[8]*i)]})(c,h,u,m),isNaN(p)?`rgb(${c}, ${h}, ${u})`:`rgba(${c}, ${h}, ${u}, ${p})`})(h,u)),""!==h&&(a[t]=h,this.domStylesCache.set(r,a)),l.innerHTML="",h}ensureDummyNodeExistence(e){this.targetNode===e&&void 0!==this.dummyNode||(this.dummyNode=document.createElement("span"),this.dummyNode.style.visibility="hidden",e.appendChild(this.dummyNode),this.targetNode=e)}invalidateDOMStylesCache(){this.domStylesCache.clear()}};const s=/\.+/g},{}],"8cz66":[(e,t,i)=>{t.exports=Promise.resolve(e("./minimap-plugin-generator-element.dd7c0fd8.js")).then((()=>t.bundle.root("f7LQc")))},{}]},["lUIf1"]);
//# sourceMappingURL=main.js.map
